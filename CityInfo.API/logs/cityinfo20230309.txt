2023-03-09 10:03:56.836 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-09 10:03:58.385 +00:00 [INF] Entity Framework Core 6.0.14 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None
2023-03-09 10:03:58.629 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 10:03:58.630 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 10:03:58.631 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 10:03:58.664 +00:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 10:03:58.665 +00:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 10:03:58.665 +00:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 10:03:58.665 +00:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 10:03:58.665 +00:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 10:03:58.665 +00:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 10:03:58.701 +00:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-03-09 10:03:58.704 +00:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-03-09 10:03:58.705 +00:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-03-09 10:03:58.711 +00:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-03-09 10:03:58.779 +00:00 [DBG] Executing update commands individually as the number of batchable commands (3) is smaller than the minimum batch size (4).
2023-03-09 10:03:58.789 +00:00 [DBG] Executing 6 update commands as a batch.
2023-03-09 10:03:58.800 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 10:03:58.800 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 10:03:58.800 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 10:03:58.800 +00:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 10:03:58.801 +00:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 10:03:58.801 +00:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 10:03:58.801 +00:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 10:03:58.801 +00:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 10:03:58.801 +00:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 10:03:58.812 +00:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 10:03:58.817 +00:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 10:03:58.817 +00:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 10:03:58.817 +00:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 10:03:58.817 +00:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 10:03:58.817 +00:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 10:03:58.817 +00:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 10:03:58.817 +00:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 10:03:58.817 +00:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 10:03:58.817 +00:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-03-09 10:03:58.818 +00:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-03-09 10:03:58.828 +00:00 [DBG] Executing 6 update commands as a batch.
2023-03-09 10:03:58.829 +00:00 [DBG] Executing update commands individually as the number of batchable commands (3) is smaller than the minimum batch size (4).
2023-03-09 10:03:59.113 +00:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-03-09 10:03:59.113 +00:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-03-09 10:03:59.275 +00:00 [DBG] 'CityInfoContext' disposed.
2023-03-09 10:04:49.968 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-09 10:04:52.168 +00:00 [INF] Entity Framework Core 6.0.14 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None
2023-03-09 10:04:52.296 +00:00 [DBG] Migrating using database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 10:04:52.308 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 10:04:52.816 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 10:04:52.831 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-09 10:04:52.845 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (11ms).
2023-03-09 10:04:52.869 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-09 10:04:52.926 +00:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-09 10:04:52.930 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 10:04:52.937 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 10:04:52.954 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-03-09 10:04:52.954 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-03-09 10:04:52.955 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 10:04:52.956 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 10:04:52.957 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-09 10:04:52.992 +00:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-09 10:04:52.992 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 10:04:52.993 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 10:04:52.996 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 10:04:52.997 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 10:04:52.997 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-09 10:04:52.997 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-09 10:04:52.997 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-09 10:04:53.001 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-09 10:04:53.001 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 10:04:53.001 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 10:04:53.001 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-03-09 10:04:53.001 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-03-09 10:04:53.001 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 10:04:53.002 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 10:04:53.002 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-09 10:04:53.002 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-09 10:04:53.003 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 10:04:53.003 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 10:04:53.042 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 10:04:53.042 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-03-09 10:04:53.042 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 10:04:53.042 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 10:04:53.043 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-03-09 10:04:53.049 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-03-09 10:04:53.055 +00:00 [DBG] A data reader was disposed.
2023-03-09 10:04:53.056 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 10:04:53.057 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 10:04:53.087 +00:00 [INF] Applying migration '20230309100359_DataSeed'.
2023-03-09 10:04:53.209 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 10:04:53.210 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 10:04:53.213 +00:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-03-09 10:04:53.225 +00:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-03-09 10:04:53.227 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-09 10:04:53.227 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-09 10:04:53.228 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointOfInterests] DROP CONSTRAINT [FK_PointOfInterests_Cities_CityId];
2023-03-09 10:04:53.239 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointOfInterests] DROP CONSTRAINT [FK_PointOfInterests_Cities_CityId];
2023-03-09 10:04:53.240 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-09 10:04:53.240 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-09 10:04:53.240 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointOfInterests] DROP CONSTRAINT [PK_PointOfInterests];
2023-03-09 10:04:53.248 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointOfInterests] DROP CONSTRAINT [PK_PointOfInterests];
2023-03-09 10:04:53.248 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-09 10:04:53.248 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-09 10:04:53.248 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointOfInterests]', N'PointsOfInterest';
2023-03-09 10:04:53.590 +00:00 [INF] Executed DbCommand (341ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointOfInterests]', N'PointsOfInterest';
2023-03-09 10:04:53.590 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-09 10:04:53.590 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-09 10:04:53.590 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[IX_PointOfInterests_CityId]', N'IX_PointsOfInterest_CityId', N'INDEX';
2023-03-09 10:04:53.594 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[IX_PointOfInterests_CityId]', N'IX_PointsOfInterest_CityId', N'INDEX';
2023-03-09 10:04:53.594 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-09 10:04:53.594 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-09 10:04:53.594 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] ADD CONSTRAINT [PK_PointsOfInterest] PRIMARY KEY ([Id]);
2023-03-09 10:04:53.601 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] ADD CONSTRAINT [PK_PointsOfInterest] PRIMARY KEY ([Id]);
2023-03-09 10:04:53.601 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-09 10:04:53.601 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-09 10:04:53.602 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([Id], [Description], [Name])
VALUES (1, N'The one with that big park.', N'New York City');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2023-03-09 10:04:53.624 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([Id], [Description], [Name])
VALUES (1, N'The one with that big park.', N'New York City');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2023-03-09 10:04:53.624 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-09 10:04:53.624 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-09 10:04:53.624 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([Id], [Description], [Name])
VALUES (2, N'The one with the cathedral that was never really finished.', N'Antwerp');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2023-03-09 10:04:53.640 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([Id], [Description], [Name])
VALUES (2, N'The one with the cathedral that was never really finished.', N'Antwerp');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2023-03-09 10:04:53.640 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-09 10:04:53.640 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-09 10:04:53.640 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([Id], [Description], [Name])
VALUES (3, N'The one with that big tower.', N'Paris');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2023-03-09 10:04:55.623 +00:00 [INF] Executed DbCommand (1,983ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([Id], [Description], [Name])
VALUES (3, N'The one with that big tower.', N'Paris');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2023-03-09 10:04:55.623 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-09 10:04:55.623 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-09 10:04:55.623 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CityId', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[PointsOfInterest]'))
    SET IDENTITY_INSERT [PointsOfInterest] ON;
INSERT INTO [PointsOfInterest] ([Id], [CityId], [Description], [Name])
VALUES (1, 1, N'The most visited urban park in the United States.', N'Central Park'),
(2, 1, N'A 102-story skyscraper located in Midtown Manhattan.', N'Empire State Building'),
(3, 2, N'A Gothic style cathedral, conceived by architects Jan and Pieter Appelmans.', N'Cathedral'),
(4, 2, N'The the finest example of railway architecture in Belgium.', N'Antwerp Central Station'),
(5, 3, N'A wrought iron lattice tower on the Champ de Mars, named after engineer Gustave Eiffel.', N'Eiffel Tower'),
(6, 3, N'The world''s largest museum.', N'The Louvre');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CityId', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[PointsOfInterest]'))
    SET IDENTITY_INSERT [PointsOfInterest] OFF;
2023-03-09 10:04:55.644 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CityId', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[PointsOfInterest]'))
    SET IDENTITY_INSERT [PointsOfInterest] ON;
INSERT INTO [PointsOfInterest] ([Id], [CityId], [Description], [Name])
VALUES (1, 1, N'The most visited urban park in the United States.', N'Central Park'),
(2, 1, N'A 102-story skyscraper located in Midtown Manhattan.', N'Empire State Building'),
(3, 2, N'A Gothic style cathedral, conceived by architects Jan and Pieter Appelmans.', N'Cathedral'),
(4, 2, N'The the finest example of railway architecture in Belgium.', N'Antwerp Central Station'),
(5, 3, N'A wrought iron lattice tower on the Champ de Mars, named after engineer Gustave Eiffel.', N'Eiffel Tower'),
(6, 3, N'The world''s largest museum.', N'The Louvre');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CityId', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[PointsOfInterest]'))
    SET IDENTITY_INSERT [PointsOfInterest] OFF;
2023-03-09 10:04:55.645 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-09 10:04:55.645 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-09 10:04:55.645 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] ADD CONSTRAINT [FK_PointsOfInterest_Cities_CityId] FOREIGN KEY ([CityId]) REFERENCES [Cities] ([Id]) ON DELETE CASCADE;
2023-03-09 10:04:55.651 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] ADD CONSTRAINT [FK_PointsOfInterest_Cities_CityId] FOREIGN KEY ([CityId]) REFERENCES [Cities] ([Id]) ON DELETE CASCADE;
2023-03-09 10:04:55.651 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-09 10:04:55.652 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-09 10:04:55.652 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230309100359_DataSeed', N'6.0.14');
2023-03-09 10:04:57.445 +00:00 [INF] Executed DbCommand (1,793ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230309100359_DataSeed', N'6.0.14');
2023-03-09 10:04:57.447 +00:00 [DBG] Committing transaction.
2023-03-09 10:04:57.454 +00:00 [DBG] Committed transaction.
2023-03-09 10:04:57.457 +00:00 [DBG] Disposing transaction.
2023-03-09 10:04:57.457 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 10:04:57.457 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 10:04:57.460 +00:00 [DBG] 'CityInfoContext' disposed.
2023-03-09 10:10:41.667 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-09 10:10:41.988 +00:00 [DBG] Hosting starting
2023-03-09 10:10:42.469 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 32D04A39E92E2B369F4560A1D0100AD7B787BAF9)
2023-03-09 10:10:42.649 +00:00 [INF] Now listening on: https://localhost:7023
2023-03-09 10:10:42.652 +00:00 [INF] Now listening on: http://localhost:5023
2023-03-09 10:10:42.654 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-03-09 10:10:42.656 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-09 10:10:42.658 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-09 10:10:42.660 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-09 10:10:42.665 +00:00 [INF] Hosting environment: Development
2023-03-09 10:10:42.667 +00:00 [INF] Content root path: C:\netcorecourses\CityInfo\CityInfo.API\
2023-03-09 10:10:42.669 +00:00 [DBG] Hosting started
2023-03-09 10:10:42.693 +00:00 [DBG] Connection id "0HMP0GQ5ACR29" received FIN.
2023-03-09 10:10:42.700 +00:00 [DBG] Connection id "0HMP0GQ5ACR29" accepted.
2023-03-09 10:10:42.707 +00:00 [DBG] Connection id "0HMP0GQ5ACR29" started.
2023-03-09 10:10:42.753 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 10:10:42.875 +00:00 [DBG] Connection id "0HMP0GQ5ACR29" stopped.
2023-03-09 10:10:42.905 +00:00 [DBG] Connection id "0HMP0GQ5ACR29" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 10:10:43.545 +00:00 [DBG] Connection id "0HMP0GQ5ACR2A" accepted.
2023-03-09 10:10:43.599 +00:00 [DBG] Connection id "0HMP0GQ5ACR2A" started.
2023-03-09 10:10:43.821 +00:00 [DBG] Connection 0HMP0GQ5ACR2A established using the following protocol: "Tls13"
2023-03-09 10:10:44.078 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/swagger/index.html - -
2023-03-09 10:10:44.253 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-09 10:10:44.658 +00:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-03-09 10:10:45.315 +00:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-03-09 10:10:45.335 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/_vs/browserLink - -
2023-03-09 10:10:45.335 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/_framework/aspnetcore-browser-refresh.js - -
2023-03-09 10:10:45.350 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/swagger/index.html - - - 200 - text/html;charset=utf-8 1284.4141ms
2023-03-09 10:10:45.393 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 57.5535ms
2023-03-09 10:10:45.595 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 259.9807ms
2023-03-09 10:10:47.086 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/swagger/v1/swagger.json - -
2023-03-09 10:10:47.664 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 577.7884ms
2023-03-09 13:25:27.395 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-09 13:25:27.661 +00:00 [DBG] Hosting starting
2023-03-09 13:25:28.048 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 32D04A39E92E2B369F4560A1D0100AD7B787BAF9)
2023-03-09 13:25:28.258 +00:00 [INF] Now listening on: https://localhost:7023
2023-03-09 13:25:28.260 +00:00 [INF] Now listening on: http://localhost:5023
2023-03-09 13:25:28.262 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-03-09 13:25:28.264 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-09 13:25:28.267 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-09 13:25:28.269 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-09 13:25:28.271 +00:00 [INF] Hosting environment: Development
2023-03-09 13:25:28.273 +00:00 [INF] Content root path: C:\netcorecourses\CityInfo\CityInfo.API\
2023-03-09 13:25:28.275 +00:00 [DBG] Hosting started
2023-03-09 13:25:28.643 +00:00 [DBG] Connection id "0HMP0K7008L4Q" accepted.
2023-03-09 13:25:28.643 +00:00 [DBG] Connection id "0HMP0K7008L4P" accepted.
2023-03-09 13:25:28.648 +00:00 [DBG] Connection id "0HMP0K7008L4Q" started.
2023-03-09 13:25:28.649 +00:00 [DBG] Connection id "0HMP0K7008L4P" started.
2023-03-09 13:25:28.650 +00:00 [DBG] Connection id "0HMP0K7008L4Q" received FIN.
2023-03-09 13:25:28.650 +00:00 [DBG] Connection id "0HMP0K7008L4P" received FIN.
2023-03-09 13:25:28.684 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 13:25:28.684 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 13:25:28.780 +00:00 [DBG] Connection id "0HMP0K7008L4P" stopped.
2023-03-09 13:25:28.780 +00:00 [DBG] Connection id "0HMP0K7008L4Q" stopped.
2023-03-09 13:25:28.786 +00:00 [DBG] Connection id "0HMP0K7008L4Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 13:25:28.786 +00:00 [DBG] Connection id "0HMP0K7008L4P" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 13:25:29.585 +00:00 [DBG] Connection id "0HMP0K7008L4R" accepted.
2023-03-09 13:25:29.591 +00:00 [DBG] Connection id "0HMP0K7008L4R" started.
2023-03-09 13:25:29.758 +00:00 [DBG] Connection 0HMP0K7008L4R established using the following protocol: "Tls13"
2023-03-09 13:25:29.971 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/swagger/index.html - -
2023-03-09 13:25:30.104 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-09 13:25:30.442 +00:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-03-09 13:25:31.008 +00:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-03-09 13:25:31.032 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/swagger/index.html - - - 200 - text/html;charset=utf-8 1070.7749ms
2023-03-09 13:25:31.034 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/_vs/browserLink - -
2023-03-09 13:25:31.034 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/_framework/aspnetcore-browser-refresh.js - -
2023-03-09 13:25:31.086 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 51.2817ms
2023-03-09 13:25:31.280 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 245.7667ms
2023-03-09 13:25:31.813 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/swagger/v1/swagger.json - -
2023-03-09 13:25:32.303 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 490.2382ms
2023-03-09 13:25:37.683 +00:00 [DBG] Connection id "0HMP0K7008L4S" accepted.
2023-03-09 13:25:37.685 +00:00 [DBG] Connection id "0HMP0K7008L4S" received FIN.
2023-03-09 13:25:37.686 +00:00 [DBG] Connection id "0HMP0K7008L4S" started.
2023-03-09 13:25:37.687 +00:00 [DBG] Connection id "0HMP0K7008L4T" accepted.
2023-03-09 13:25:37.694 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 13:25:37.696 +00:00 [DBG] Connection id "0HMP0K7008L4T" started.
2023-03-09 13:25:37.703 +00:00 [DBG] Connection id "0HMP0K7008L4S" stopped.
2023-03-09 13:25:37.707 +00:00 [DBG] Connection id "0HMP0K7008L4S" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 13:25:37.713 +00:00 [DBG] Connection 0HMP0K7008L4T established using the following protocol: "Tls13"
2023-03-09 13:25:37.736 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7023/api/cities - -
2023-03-09 13:25:37.741 +00:00 [DBG] The request path  does not match the path filter
2023-03-09 13:25:37.789 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-03-09 13:25:37.798 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-03-09 13:25:37.803 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-03-09 13:25:37.810 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-03-09 13:25:37.845 +00:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-03-09 13:25:37.851 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-09 13:25:37.854 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-09 13:25:37.857 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-09 13:25:37.865 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-09 13:25:37.868 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-09 13:25:37.879 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-09 13:25:38.233 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-09 13:25:38.286 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-09 13:25:40.097 +00:00 [INF] Entity Framework Core 6.0.14 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None
2023-03-09 13:25:40.262 +00:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-03-09 13:25:40.978 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-03-09 13:25:41.103 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 13:25:41.205 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (94ms).
2023-03-09 13:25:41.238 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 13:25:41.961 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 13:25:41.988 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2023-03-09 13:25:42.133 +00:00 [INF] Executed DbCommand (146ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2023-03-09 13:25:42.228 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 13:25:42.299 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 13:25:42.302 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 13:25:42.326 +00:00 [DBG] A data reader was disposed.
2023-03-09 13:25:42.344 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 13:25:42.364 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 13:25:42.377 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-09 13:25:42.389 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]'.
2023-03-09 13:25:42.394 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/xml' to write the response.
2023-03-09 13:25:42.397 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-03-09 13:25:42.476 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 4591.2131ms
2023-03-09 13:25:42.482 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-03-09 13:25:42.487 +00:00 [DBG] Connection id "0HMP0K7008L4T" completed keep alive response.
2023-03-09 13:25:42.505 +00:00 [DBG] 'CityInfoContext' disposed.
2023-03-09 13:25:42.516 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7023/api/cities - - - 200 682 application/xml;+charset=utf-8 4779.7860ms
2023-03-09 13:25:57.489 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7023/api/cities - -
2023-03-09 13:25:57.492 +00:00 [DBG] The request path  does not match the path filter
2023-03-09 13:25:57.496 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-03-09 13:25:57.498 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-03-09 13:25:57.502 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-03-09 13:25:57.507 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-03-09 13:25:57.511 +00:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-03-09 13:25:57.516 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-09 13:25:57.519 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-09 13:25:57.524 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-09 13:25:57.529 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-09 13:25:57.532 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-09 13:25:57.537 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-09 13:25:57.542 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-09 13:25:57.562 +00:00 [INF] Entity Framework Core 6.0.14 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None
2023-03-09 13:25:57.582 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 13:25:57.588 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2023-03-09 13:25:57.591 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 13:25:57.598 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 13:25:57.603 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2023-03-09 13:25:57.617 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2023-03-09 13:25:57.625 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 13:25:57.629 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 13:25:57.633 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 13:25:57.638 +00:00 [DBG] A data reader was disposed.
2023-03-09 13:25:57.640 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 13:25:57.642 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 13:25:57.645 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-09 13:25:57.655 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]'.
2023-03-09 13:25:57.658 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/xml' to write the response.
2023-03-09 13:25:57.661 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-03-09 13:25:57.666 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 129.9562ms
2023-03-09 13:25:57.669 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-03-09 13:25:57.671 +00:00 [DBG] Connection id "0HMP0K7008L4T" completed keep alive response.
2023-03-09 13:25:57.673 +00:00 [DBG] 'CityInfoContext' disposed.
2023-03-09 13:25:57.675 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7023/api/cities - - - 200 682 application/xml;+charset=utf-8 185.8717ms
2023-03-09 14:21:26.228 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-09 14:21:26.433 +00:00 [DBG] Hosting starting
2023-03-09 14:21:26.727 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 32D04A39E92E2B369F4560A1D0100AD7B787BAF9)
2023-03-09 14:21:26.894 +00:00 [INF] Now listening on: https://localhost:7023
2023-03-09 14:21:26.898 +00:00 [INF] Now listening on: http://localhost:5023
2023-03-09 14:21:26.900 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-03-09 14:21:26.902 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-09 14:21:26.905 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-09 14:21:26.907 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-09 14:21:26.909 +00:00 [INF] Hosting environment: Development
2023-03-09 14:21:26.911 +00:00 [INF] Content root path: C:\netcorecourses\CityInfo\CityInfo.API\
2023-03-09 14:21:26.913 +00:00 [DBG] Hosting started
2023-03-09 14:21:27.276 +00:00 [DBG] Connection id "0HMP0L68UN6LP" received FIN.
2023-03-09 14:21:27.289 +00:00 [DBG] Connection id "0HMP0L68UN6LQ" received FIN.
2023-03-09 14:21:27.295 +00:00 [DBG] Connection id "0HMP0L68UN6LQ" accepted.
2023-03-09 14:21:27.300 +00:00 [DBG] Connection id "0HMP0L68UN6LP" accepted.
2023-03-09 14:21:27.308 +00:00 [DBG] Connection id "0HMP0L68UN6LQ" started.
2023-03-09 14:21:27.309 +00:00 [DBG] Connection id "0HMP0L68UN6LP" started.
2023-03-09 14:21:27.350 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 14:21:27.350 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 14:21:27.448 +00:00 [DBG] Connection id "0HMP0L68UN6LQ" stopped.
2023-03-09 14:21:27.448 +00:00 [DBG] Connection id "0HMP0L68UN6LP" stopped.
2023-03-09 14:21:27.456 +00:00 [DBG] Connection id "0HMP0L68UN6LQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 14:21:27.456 +00:00 [DBG] Connection id "0HMP0L68UN6LP" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 14:21:28.058 +00:00 [DBG] Connection id "0HMP0L68UN6LR" accepted.
2023-03-09 14:21:28.227 +00:00 [DBG] Connection id "0HMP0L68UN6LR" started.
2023-03-09 14:21:28.366 +00:00 [DBG] Connection 0HMP0L68UN6LR established using the following protocol: "Tls13"
2023-03-09 14:21:28.562 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/swagger/index.html - -
2023-03-09 14:21:28.666 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-09 14:21:29.031 +00:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-03-09 14:21:29.452 +00:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-03-09 14:21:29.474 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/_vs/browserLink - -
2023-03-09 14:21:29.474 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/_framework/aspnetcore-browser-refresh.js - -
2023-03-09 14:21:29.489 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/swagger/index.html - - - 200 - text/html;charset=utf-8 936.0563ms
2023-03-09 14:21:29.496 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 22.7185ms
2023-03-09 14:21:29.594 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 120.0103ms
2023-03-09 14:21:30.478 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/swagger/v1/swagger.json - -
2023-03-09 14:21:31.245 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 767.2851ms
2023-03-09 14:21:33.088 +00:00 [DBG] Connection id "0HMP0L68UN6LS" accepted.
2023-03-09 14:21:33.090 +00:00 [DBG] Connection id "0HMP0L68UN6LS" started.
2023-03-09 14:21:33.090 +00:00 [DBG] Connection id "0HMP0L68UN6LS" received FIN.
2023-03-09 14:21:33.091 +00:00 [DBG] Connection id "0HMP0L68UN6LT" accepted.
2023-03-09 14:21:33.102 +00:00 [DBG] Connection id "0HMP0L68UN6LT" started.
2023-03-09 14:21:33.102 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 14:21:33.116 +00:00 [DBG] Connection 0HMP0L68UN6LT established using the following protocol: "Tls13"
2023-03-09 14:21:33.123 +00:00 [DBG] Connection id "0HMP0L68UN6LS" stopped.
2023-03-09 14:21:33.134 +00:00 [DBG] Connection id "0HMP0L68UN6LS" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 14:21:33.152 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7023/api/cities - -
2023-03-09 14:21:33.159 +00:00 [DBG] The request path  does not match the path filter
2023-03-09 14:21:33.219 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-03-09 14:21:33.227 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-03-09 14:21:33.231 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-03-09 14:21:33.237 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-03-09 14:21:33.273 +00:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-03-09 14:21:33.283 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-09 14:21:33.286 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-09 14:21:33.290 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-09 14:21:33.298 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-09 14:21:33.302 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-09 14:21:33.306 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-09 14:21:33.621 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-09 14:21:33.984 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-09 14:21:36.155 +00:00 [INF] Entity Framework Core 6.0.14 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None
2023-03-09 14:21:36.340 +00:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-03-09 14:21:37.018 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-03-09 14:21:37.140 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 14:21:37.222 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (77ms).
2023-03-09 14:21:37.245 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 14:21:37.885 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 14:21:37.913 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2023-03-09 14:21:38.041 +00:00 [INF] Executed DbCommand (133ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2023-03-09 14:21:38.127 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 14:21:38.185 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 14:21:38.188 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 14:21:38.214 +00:00 [DBG] A data reader was disposed.
2023-03-09 14:21:38.229 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 14:21:38.248 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 14:21:38.447 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 5131.336ms
2023-03-09 14:21:38.453 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-03-09 14:21:38.462 +00:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
List`1 -> CityWithoutPointsOfInterestDto
System.Collections.Generic.List`1[[CityInfo.API.Entities.City, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> CityInfo.API.Models.CityWithoutPointsOfInterestDto
   at lambda_method57(Closure , Object , CityWithoutPointsOfInterestDto , ResolutionContext )
   at CityInfo.API.Controllers.CitiesController.GetCities() in C:\netcorecourses\CityInfo\CityInfo.API\Controllers\CitiesController.cs:line 28
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-03-09 14:21:38.522 +00:00 [DBG] Connection id "0HMP0L68UN6LT" completed keep alive response.
2023-03-09 14:21:38.532 +00:00 [DBG] 'CityInfoContext' disposed.
2023-03-09 14:21:38.539 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7023/api/cities - - - 500 - text/plain;+charset=utf-8 5387.5089ms
2023-03-09 14:22:47.839 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-09 14:22:48.572 +00:00 [DBG] Hosting starting
2023-03-09 14:22:48.964 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 32D04A39E92E2B369F4560A1D0100AD7B787BAF9)
2023-03-09 14:22:49.162 +00:00 [INF] Now listening on: https://localhost:7023
2023-03-09 14:22:49.177 +00:00 [INF] Now listening on: http://localhost:5023
2023-03-09 14:22:49.180 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-03-09 14:22:49.183 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-09 14:22:49.185 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-09 14:22:49.189 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-09 14:22:49.192 +00:00 [INF] Hosting environment: Development
2023-03-09 14:22:49.194 +00:00 [INF] Content root path: C:\netcorecourses\CityInfo\CityInfo.API\
2023-03-09 14:22:49.196 +00:00 [DBG] Hosting started
2023-03-09 14:22:49.641 +00:00 [DBG] Connection id "0HMP0L71G78PC" received FIN.
2023-03-09 14:22:49.642 +00:00 [DBG] Connection id "0HMP0L71G78PD" received FIN.
2023-03-09 14:22:49.668 +00:00 [DBG] Connection id "0HMP0L71G78PC" accepted.
2023-03-09 14:22:49.685 +00:00 [DBG] Connection id "0HMP0L71G78PD" accepted.
2023-03-09 14:22:49.691 +00:00 [DBG] Connection id "0HMP0L71G78PC" started.
2023-03-09 14:22:49.693 +00:00 [DBG] Connection id "0HMP0L71G78PD" started.
2023-03-09 14:22:49.734 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 14:22:49.734 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 14:22:50.009 +00:00 [DBG] Connection id "0HMP0L71G78PD" stopped.
2023-03-09 14:22:50.010 +00:00 [DBG] Connection id "0HMP0L71G78PC" stopped.
2023-03-09 14:22:50.034 +00:00 [DBG] Connection id "0HMP0L71G78PC" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 14:22:50.034 +00:00 [DBG] Connection id "0HMP0L71G78PD" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 14:22:50.677 +00:00 [DBG] Connection id "0HMP0L71G78PE" accepted.
2023-03-09 14:22:50.692 +00:00 [DBG] Connection id "0HMP0L71G78PE" started.
2023-03-09 14:22:50.839 +00:00 [DBG] Connection 0HMP0L71G78PE established using the following protocol: "Tls13"
2023-03-09 14:22:51.034 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/swagger/index.html - -
2023-03-09 14:22:51.117 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-09 14:22:51.509 +00:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-03-09 14:22:52.037 +00:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-03-09 14:22:52.053 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/_vs/browserLink - -
2023-03-09 14:22:52.054 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/_framework/aspnetcore-browser-refresh.js - -
2023-03-09 14:22:52.132 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/swagger/index.html - - - 200 - text/html;charset=utf-8 1111.4636ms
2023-03-09 14:22:52.148 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 93.9925ms
2023-03-09 14:22:52.515 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 462.1461ms
2023-03-09 14:22:53.039 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/swagger/v1/swagger.json - -
2023-03-09 14:22:53.534 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 494.5510ms
2023-03-09 14:22:57.246 +00:00 [DBG] Connection id "0HMP0L71G78PF" accepted.
2023-03-09 14:22:57.247 +00:00 [DBG] Connection id "0HMP0L71G78PF" received FIN.
2023-03-09 14:22:57.251 +00:00 [DBG] Connection id "0HMP0L71G78PG" accepted.
2023-03-09 14:22:57.251 +00:00 [DBG] Connection id "0HMP0L71G78PF" started.
2023-03-09 14:22:57.256 +00:00 [DBG] Connection id "0HMP0L71G78PG" started.
2023-03-09 14:22:57.260 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 14:22:57.269 +00:00 [DBG] Connection id "0HMP0L71G78PF" stopped.
2023-03-09 14:22:57.272 +00:00 [DBG] Connection id "0HMP0L71G78PF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 14:22:57.281 +00:00 [DBG] Connection 0HMP0L71G78PG established using the following protocol: "Tls13"
2023-03-09 14:22:57.298 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7023/api/cities - -
2023-03-09 14:22:57.304 +00:00 [DBG] The request path  does not match the path filter
2023-03-09 14:22:57.346 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-03-09 14:22:57.357 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-03-09 14:22:57.362 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-03-09 14:22:57.371 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-03-09 14:22:57.406 +00:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-03-09 14:22:57.411 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-09 14:22:57.414 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-09 14:22:57.418 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-09 14:22:57.422 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-09 14:22:57.425 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-09 14:22:57.431 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-09 14:22:57.714 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-09 14:22:58.025 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-09 14:22:59.825 +00:00 [INF] Entity Framework Core 6.0.14 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None
2023-03-09 14:22:59.988 +00:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-03-09 14:23:00.725 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-03-09 14:23:00.829 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 14:23:00.927 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (86ms).
2023-03-09 14:23:00.950 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 14:23:01.605 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 14:23:01.636 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2023-03-09 14:23:01.746 +00:00 [INF] Executed DbCommand (116ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2023-03-09 14:23:01.852 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 14:23:01.897 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 14:23:01.901 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 14:23:01.920 +00:00 [DBG] A data reader was disposed.
2023-03-09 14:23:01.934 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 14:23:01.953 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 14:23:02.017 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-09 14:23:02.034 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]'.
2023-03-09 14:23:02.039 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/xml' to write the response.
2023-03-09 14:23:02.043 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-03-09 14:23:02.083 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 4643.7096ms
2023-03-09 14:23:02.088 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-03-09 14:23:02.091 +00:00 [DBG] Connection id "0HMP0L71G78PG" completed keep alive response.
2023-03-09 14:23:02.106 +00:00 [DBG] 'CityInfoContext' disposed.
2023-03-09 14:23:02.118 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7023/api/cities - - - 200 682 application/xml;+charset=utf-8 4819.7518ms
2023-03-09 14:32:10.392 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-09 14:32:10.865 +00:00 [DBG] Hosting starting
2023-03-09 14:32:11.279 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 32D04A39E92E2B369F4560A1D0100AD7B787BAF9)
2023-03-09 14:32:11.586 +00:00 [INF] Now listening on: https://localhost:7023
2023-03-09 14:32:11.651 +00:00 [INF] Now listening on: http://localhost:5023
2023-03-09 14:32:11.656 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-03-09 14:32:11.663 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-09 14:32:11.682 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-09 14:32:11.699 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-09 14:32:11.706 +00:00 [INF] Hosting environment: Development
2023-03-09 14:32:11.712 +00:00 [INF] Content root path: C:\netcorecourses\CityInfo\CityInfo.API\
2023-03-09 14:32:11.716 +00:00 [DBG] Hosting started
2023-03-09 14:32:11.922 +00:00 [DBG] Connection id "0HMP0LC92FDMO" accepted.
2023-03-09 14:32:11.932 +00:00 [DBG] Connection id "0HMP0LC92FDMO" received FIN.
2023-03-09 14:32:11.944 +00:00 [DBG] Connection id "0HMP0LC92FDMO" started.
2023-03-09 14:32:12.009 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 14:32:12.192 +00:00 [DBG] Connection id "0HMP0LC92FDMO" stopped.
2023-03-09 14:32:12.201 +00:00 [DBG] Connection id "0HMP0LC92FDMO" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 14:32:12.778 +00:00 [DBG] Connection id "0HMP0LC92FDMP" accepted.
2023-03-09 14:32:12.789 +00:00 [DBG] Connection id "0HMP0LC92FDMP" started.
2023-03-09 14:32:12.959 +00:00 [DBG] Connection 0HMP0LC92FDMP established using the following protocol: "Tls13"
2023-03-09 14:32:13.152 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/swagger/index.html - -
2023-03-09 14:32:13.276 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-09 14:32:13.664 +00:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-03-09 14:32:14.112 +00:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-03-09 14:32:14.144 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/_vs/browserLink - -
2023-03-09 14:32:14.144 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/_framework/aspnetcore-browser-refresh.js - -
2023-03-09 14:32:14.153 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/swagger/index.html - - - 200 - text/html;charset=utf-8 1014.9962ms
2023-03-09 14:32:14.191 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 46.4363ms
2023-03-09 14:32:14.400 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 255.1258ms
2023-03-09 14:32:15.010 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/swagger/v1/swagger.json - -
2023-03-09 14:32:15.549 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 538.3407ms
2023-03-09 14:34:31.522 +00:00 [DBG] Connection id "0HMP0LC92FDMQ" accepted.
2023-03-09 14:34:31.531 +00:00 [DBG] Connection id "0HMP0LC92FDMQ" received FIN.
2023-03-09 14:34:31.533 +00:00 [DBG] Connection id "0HMP0LC92FDMQ" started.
2023-03-09 14:34:31.553 +00:00 [DBG] Connection id "0HMP0LC92FDMR" accepted.
2023-03-09 14:34:31.557 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 14:34:31.559 +00:00 [DBG] Connection id "0HMP0LC92FDMR" started.
2023-03-09 14:34:31.568 +00:00 [DBG] Connection id "0HMP0LC92FDMQ" stopped.
2023-03-09 14:34:31.573 +00:00 [DBG] Connection id "0HMP0LC92FDMQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 14:34:31.610 +00:00 [DBG] Connection 0HMP0LC92FDMR established using the following protocol: "Tls13"
2023-03-09 14:34:31.635 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7023/api/cities - -
2023-03-09 14:34:31.640 +00:00 [DBG] The request path  does not match the path filter
2023-03-09 14:34:31.688 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-03-09 14:34:31.698 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-03-09 14:34:31.704 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-03-09 14:34:31.709 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-03-09 14:34:31.745 +00:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-03-09 14:34:31.752 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-09 14:34:31.755 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-09 14:34:31.759 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-09 14:34:31.764 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-09 14:34:31.768 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-09 14:34:31.773 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-09 14:34:32.073 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-09 14:34:32.421 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-09 14:34:34.291 +00:00 [INF] Entity Framework Core 6.0.14 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None
2023-03-09 14:34:34.457 +00:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-03-09 14:34:35.137 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-03-09 14:34:35.266 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 14:34:35.351 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (78ms).
2023-03-09 14:34:35.377 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 14:34:36.012 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 14:34:36.039 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2023-03-09 14:34:36.184 +00:00 [INF] Executed DbCommand (148ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2023-03-09 14:34:36.260 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 14:34:36.325 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 14:34:36.329 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 14:34:36.353 +00:00 [DBG] A data reader was disposed.
2023-03-09 14:34:36.370 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 14:34:36.389 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 14:34:36.439 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-09 14:34:36.453 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]'.
2023-03-09 14:34:36.458 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/xml' to write the response.
2023-03-09 14:34:36.462 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-03-09 14:34:36.502 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 4721.6169ms
2023-03-09 14:34:36.508 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-03-09 14:34:36.511 +00:00 [DBG] Connection id "0HMP0LC92FDMR" completed keep alive response.
2023-03-09 14:34:36.524 +00:00 [DBG] 'CityInfoContext' disposed.
2023-03-09 14:34:36.539 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7023/api/cities - - - 200 682 application/xml;+charset=utf-8 4904.7039ms
2023-03-09 14:34:47.689 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7023/api/cities?includepointsofinterest=true - -
2023-03-09 14:34:47.691 +00:00 [DBG] The request path  does not match the path filter
2023-03-09 14:34:47.697 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-03-09 14:34:47.699 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-03-09 14:34:47.704 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-03-09 14:34:47.707 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-03-09 14:34:47.711 +00:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-03-09 14:34:47.717 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-09 14:34:47.720 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-09 14:34:47.724 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-09 14:34:47.731 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-09 14:34:47.737 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-09 14:34:47.740 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-09 14:34:47.744 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-09 14:34:47.751 +00:00 [INF] Entity Framework Core 6.0.14 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None
2023-03-09 14:34:47.766 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 14:34:47.769 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-03-09 14:34:47.772 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 14:34:47.777 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 14:34:47.781 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2023-03-09 14:34:47.793 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2023-03-09 14:34:47.801 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 14:34:47.806 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 14:34:47.816 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 14:34:47.821 +00:00 [DBG] A data reader was disposed.
2023-03-09 14:34:47.824 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 14:34:47.829 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 14:34:47.834 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-09 14:34:47.845 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]'.
2023-03-09 14:34:47.848 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/xml' to write the response.
2023-03-09 14:34:47.851 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-03-09 14:34:47.854 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 113.9109ms
2023-03-09 14:34:47.857 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-03-09 14:34:47.863 +00:00 [DBG] Connection id "0HMP0LC92FDMR" completed keep alive response.
2023-03-09 14:34:47.866 +00:00 [DBG] 'CityInfoContext' disposed.
2023-03-09 14:34:47.868 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7023/api/cities?includepointsofinterest=true - - - 200 682 application/xml;+charset=utf-8 178.7986ms
2023-03-09 14:35:23.539 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7023/api/cities/4 - -
2023-03-09 14:35:23.564 +00:00 [DBG] The request path  does not match the path filter
2023-03-09 14:35:23.567 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/4'
2023-03-09 14:35:23.571 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/4'
2023-03-09 14:35:23.574 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-09 14:35:23.576 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-09 14:35:23.621 +00:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-03-09 14:35:23.628 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-09 14:35:23.634 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-09 14:35:23.639 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-09 14:35:23.643 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-09 14:35:23.651 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-09 14:35:23.654 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-09 14:35:23.660 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-09 14:35:23.674 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-03-09 14:35:23.680 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-03-09 14:35:23.686 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-03-09 14:35:23.689 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-03-09 14:35:23.693 +00:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-03-09 14:35:23.701 +00:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-03-09 14:35:23.707 +00:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-03-09 14:35:23.710 +00:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-03-09 14:35:23.715 +00:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-09 14:35:23.719 +00:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-09 14:35:23.722 +00:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-09 14:35:23.725 +00:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-03-09 14:35:23.729 +00:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-09 14:35:23.823 +00:00 [INF] Entity Framework Core 6.0.14 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None
2023-03-09 14:35:23.851 +00:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-03-09 14:35:23.906 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-09 14:35:23.935 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 14:35:23.938 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-03-09 14:35:23.949 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 14:35:23.953 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 14:35:23.970 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2023-03-09 14:35:24.039 +00:00 [INF] Executed DbCommand (82ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2023-03-09 14:35:24.054 +00:00 [DBG] A data reader was disposed.
2023-03-09 14:35:24.056 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 14:35:24.060 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 14:35:24.070 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-09 14:35:24.076 +00:00 [DBG] No information found on request to perform content negotiation.
2023-03-09 14:35:24.079 +00:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-03-09 14:35:24.086 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-03-09 14:35:24.089 +00:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-03-09 14:35:24.393 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 738.9517ms
2023-03-09 14:35:24.395 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-09 14:35:24.399 +00:00 [DBG] Connection id "0HMP0LC92FDMR" completed keep alive response.
2023-03-09 14:35:24.402 +00:00 [DBG] 'CityInfoContext' disposed.
2023-03-09 14:35:24.405 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7023/api/cities/4 - - - 404 161 application/problem+json;+charset=utf-8 866.1691ms
2023-03-09 14:36:08.758 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7023/api/cities/1 - -
2023-03-09 14:36:08.766 +00:00 [DBG] The request path  does not match the path filter
2023-03-09 14:36:08.768 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-03-09 14:36:08.774 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-03-09 14:36:08.778 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-09 14:36:08.781 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-09 14:36:08.787 +00:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-03-09 14:36:08.795 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-09 14:36:08.802 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-09 14:36:08.809 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-09 14:36:08.814 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-09 14:36:08.820 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-09 14:36:08.824 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-09 14:36:08.827 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-09 14:36:08.829 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-03-09 14:36:08.834 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-03-09 14:36:08.837 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-03-09 14:36:08.840 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-03-09 14:36:08.842 +00:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-03-09 14:36:08.845 +00:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-03-09 14:36:08.848 +00:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-03-09 14:36:08.853 +00:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-03-09 14:36:08.856 +00:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-09 14:36:08.859 +00:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-09 14:36:08.861 +00:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-09 14:36:08.866 +00:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-03-09 14:36:08.869 +00:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-09 14:36:08.873 +00:00 [INF] Entity Framework Core 6.0.14 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None
2023-03-09 14:36:08.879 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 14:36:08.881 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-03-09 14:36:08.885 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 14:36:08.888 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 14:36:08.890 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2023-03-09 14:36:08.901 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2023-03-09 14:36:08.907 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 14:36:08.911 +00:00 [DBG] A data reader was disposed.
2023-03-09 14:36:08.913 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 14:36:08.917 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 14:36:08.923 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-09 14:36:08.930 +00:00 [DBG] No information found on request to perform content negotiation.
2023-03-09 14:36:08.932 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-09 14:36:08.935 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-09 14:36:08.937 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-09 14:36:08.940 +00:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointsOfInterestDto'.
2023-03-09 14:36:08.948 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 123.645ms
2023-03-09 14:36:08.952 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-09 14:36:08.954 +00:00 [DBG] Connection id "0HMP0LC92FDMR" completed keep alive response.
2023-03-09 14:36:08.958 +00:00 [DBG] 'CityInfoContext' disposed.
2023-03-09 14:36:08.961 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7023/api/cities/1 - - - 200 75 application/json;+charset=utf-8 218.2313ms
2023-03-09 14:36:14.005 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7023/api/cities/1?includepointsofinterest=true - -
2023-03-09 14:36:14.007 +00:00 [DBG] The request path  does not match the path filter
2023-03-09 14:36:14.010 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-03-09 14:36:14.014 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-03-09 14:36:14.018 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-09 14:36:14.020 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-09 14:36:14.022 +00:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-03-09 14:36:14.027 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-09 14:36:14.029 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-09 14:36:14.033 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-09 14:36:14.037 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-09 14:36:14.040 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-09 14:36:14.043 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-09 14:36:14.045 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-09 14:36:14.062 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-03-09 14:36:14.065 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-03-09 14:36:14.071 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-03-09 14:36:14.075 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-03-09 14:36:14.078 +00:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-03-09 14:36:14.080 +00:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-03-09 14:36:14.084 +00:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-03-09 14:36:14.089 +00:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-03-09 14:36:14.099 +00:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-09 14:36:14.103 +00:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-09 14:36:14.107 +00:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-03-09 14:36:14.110 +00:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-09 14:36:14.118 +00:00 [INF] Entity Framework Core 6.0.14 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None
2023-03-09 14:36:14.141 +00:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterest)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-03-09 14:36:14.187 +00:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2023-03-09 14:36:14.394 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-09 14:36:14.405 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 14:36:14.407 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-03-09 14:36:14.410 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 14:36:14.414 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 14:36:14.418 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[Name], [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[Id] = @__cityId_0
) AS [t]
LEFT JOIN [PointsOfInterest] AS [p] ON [t].[Id] = [p].[CityId]
ORDER BY [t].[Id]
2023-03-09 14:36:14.427 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[Name], [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[Id] = @__cityId_0
) AS [t]
LEFT JOIN [PointsOfInterest] AS [p] ON [t].[Id] = [p].[CityId]
ORDER BY [t].[Id]
2023-03-09 14:36:14.434 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 14:36:14.449 +00:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 14:36:14.476 +00:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 14:36:14.480 +00:00 [DBG] A data reader was disposed.
2023-03-09 14:36:14.482 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 14:36:14.485 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 14:36:14.630 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 587.065ms
2023-03-09 14:36:14.634 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-09 14:36:14.637 +00:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
City -> CityDto
CityInfo.API.Entities.City -> CityInfo.API.Models.CityDto

Type Map configuration:
City -> CityDto
CityInfo.API.Entities.City -> CityInfo.API.Models.CityDto

Destination Member:
PointsOfInterest

 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterest -> PointOfInterestDto
CityInfo.API.Entities.PointOfInterest -> CityInfo.API.Models.PointOfInterestDto
   at lambda_method113(Closure , PointOfInterest , PointOfInterestDto , ResolutionContext )
   at lambda_method112(Closure , Object , CityDto , ResolutionContext )
   --- End of inner exception stack trace ---
   at lambda_method112(Closure , Object , CityDto , ResolutionContext )
   at CityInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointsOfInterest) in C:\netcorecourses\CityInfo\CityInfo.API\Controllers\CitiesController.cs:line 40
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-03-09 14:36:14.702 +00:00 [DBG] Connection id "0HMP0LC92FDMR" completed keep alive response.
2023-03-09 14:36:14.704 +00:00 [DBG] 'CityInfoContext' disposed.
2023-03-09 14:36:14.706 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7023/api/cities/1?includepointsofinterest=true - - - 500 - text/plain;+charset=utf-8 700.7831ms
2023-03-09 15:11:36.758 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-09 15:11:37.095 +00:00 [DBG] Hosting starting
2023-03-09 15:11:37.466 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 32D04A39E92E2B369F4560A1D0100AD7B787BAF9)
2023-03-09 15:11:37.647 +00:00 [INF] Now listening on: https://localhost:7023
2023-03-09 15:11:37.682 +00:00 [INF] Now listening on: http://localhost:5023
2023-03-09 15:11:37.687 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-03-09 15:11:37.691 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-09 15:11:37.693 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-09 15:11:37.696 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-09 15:11:37.704 +00:00 [INF] Hosting environment: Development
2023-03-09 15:11:37.706 +00:00 [INF] Content root path: C:\netcorecourses\CityInfo\CityInfo.API\
2023-03-09 15:11:37.709 +00:00 [DBG] Hosting started
2023-03-09 15:11:37.739 +00:00 [DBG] Connection id "0HMP0M2A4NKJT" received FIN.
2023-03-09 15:11:37.739 +00:00 [DBG] Connection id "0HMP0M2A4NKJS" received FIN.
2023-03-09 15:11:37.854 +00:00 [DBG] Connection id "0HMP0M2A4NKJS" accepted.
2023-03-09 15:11:37.854 +00:00 [DBG] Connection id "0HMP0M2A4NKJT" accepted.
2023-03-09 15:11:37.896 +00:00 [DBG] Connection id "0HMP0M2A4NKJS" started.
2023-03-09 15:11:37.912 +00:00 [DBG] Connection id "0HMP0M2A4NKJT" started.
2023-03-09 15:11:37.981 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 15:11:37.981 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 15:11:38.269 +00:00 [DBG] Connection id "0HMP0M2A4NKJS" stopped.
2023-03-09 15:11:38.269 +00:00 [DBG] Connection id "0HMP0M2A4NKJT" stopped.
2023-03-09 15:11:38.303 +00:00 [DBG] Connection id "0HMP0M2A4NKJS" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 15:11:38.303 +00:00 [DBG] Connection id "0HMP0M2A4NKJT" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 15:11:38.775 +00:00 [DBG] Connection id "0HMP0M2A4NKJU" accepted.
2023-03-09 15:11:38.798 +00:00 [DBG] Connection id "0HMP0M2A4NKJU" started.
2023-03-09 15:11:39.038 +00:00 [DBG] Connection 0HMP0M2A4NKJU established using the following protocol: "Tls13"
2023-03-09 15:11:39.238 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/swagger/index.html - -
2023-03-09 15:11:39.359 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-09 15:11:39.735 +00:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-03-09 15:11:40.375 +00:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-03-09 15:11:40.411 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/_framework/aspnetcore-browser-refresh.js - -
2023-03-09 15:11:40.419 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/_vs/browserLink - -
2023-03-09 15:11:40.424 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/swagger/index.html - - - 200 - text/html;charset=utf-8 1192.7469ms
2023-03-09 15:11:40.435 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 24.4234ms
2023-03-09 15:11:40.611 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 191.7934ms
2023-03-09 15:11:41.393 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/swagger/v1/swagger.json - -
2023-03-09 15:11:41.903 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 509.8715ms
2023-03-09 15:11:43.826 +00:00 [DBG] Connection id "0HMP0M2A4NKJV" accepted.
2023-03-09 15:11:43.830 +00:00 [DBG] Connection id "0HMP0M2A4NKJV" received FIN.
2023-03-09 15:11:43.830 +00:00 [DBG] Connection id "0HMP0M2A4NKJV" started.
2023-03-09 15:11:43.831 +00:00 [DBG] Connection id "0HMP0M2A4NKK0" accepted.
2023-03-09 15:11:43.836 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 15:11:43.838 +00:00 [DBG] Connection id "0HMP0M2A4NKK0" started.
2023-03-09 15:11:43.847 +00:00 [DBG] Connection id "0HMP0M2A4NKJV" stopped.
2023-03-09 15:11:43.853 +00:00 [DBG] Connection id "0HMP0M2A4NKJV" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 15:11:43.865 +00:00 [DBG] Connection 0HMP0M2A4NKK0 established using the following protocol: "Tls13"
2023-03-09 15:11:43.888 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7023/api/cities/1?includepointsofinterest=true - -
2023-03-09 15:11:43.893 +00:00 [DBG] The request path  does not match the path filter
2023-03-09 15:11:43.938 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-03-09 15:11:43.949 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-03-09 15:11:43.954 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-09 15:11:43.964 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-09 15:11:44.019 +00:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-03-09 15:11:44.024 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-09 15:11:44.027 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-09 15:11:44.031 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-09 15:11:44.036 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-09 15:11:44.038 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-09 15:11:44.043 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-09 15:11:44.380 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-09 15:11:44.762 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-09 15:11:44.780 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-03-09 15:11:44.786 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-03-09 15:11:44.790 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-03-09 15:11:44.793 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-03-09 15:11:44.797 +00:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-03-09 15:11:44.803 +00:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-03-09 15:11:44.809 +00:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-03-09 15:11:44.814 +00:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-03-09 15:11:44.820 +00:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-09 15:11:44.823 +00:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-09 15:11:44.830 +00:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-03-09 15:11:44.836 +00:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-09 15:11:46.708 +00:00 [INF] Entity Framework Core 6.0.14 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None
2023-03-09 15:11:46.916 +00:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterest)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-03-09 15:11:47.126 +00:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2023-03-09 15:11:47.893 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-09 15:11:48.017 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 15:11:48.116 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (90ms).
2023-03-09 15:11:48.154 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:11:48.801 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:11:48.836 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[Name], [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[Id] = @__cityId_0
) AS [t]
LEFT JOIN [PointsOfInterest] AS [p] ON [t].[Id] = [p].[CityId]
ORDER BY [t].[Id]
2023-03-09 15:11:49.025 +00:00 [INF] Executed DbCommand (201ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[Name], [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[Id] = @__cityId_0
) AS [t]
LEFT JOIN [PointsOfInterest] AS [p] ON [t].[Id] = [p].[CityId]
ORDER BY [t].[Id]
2023-03-09 15:11:49.098 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 15:11:49.178 +00:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 15:11:49.217 +00:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 15:11:49.249 +00:00 [DBG] A data reader was disposed.
2023-03-09 15:11:49.267 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:11:49.287 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:11:49.329 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-09 15:11:49.337 +00:00 [DBG] No information found on request to perform content negotiation.
2023-03-09 15:11:49.339 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-09 15:11:49.343 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-09 15:11:49.348 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-09 15:11:49.352 +00:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2023-03-09 15:11:49.653 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 5601.4112ms
2023-03-09 15:11:49.657 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-09 15:11:49.662 +00:00 [DBG] Connection id "0HMP0M2A4NKK0" completed keep alive response.
2023-03-09 15:11:49.673 +00:00 [DBG] 'CityInfoContext' disposed.
2023-03-09 15:11:49.683 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7023/api/cities/1?includepointsofinterest=true - - - 200 331 application/json;+charset=utf-8 5795.5021ms
2023-03-09 15:40:31.940 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-09 15:40:32.283 +00:00 [DBG] Hosting starting
2023-03-09 15:40:32.797 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 32D04A39E92E2B369F4560A1D0100AD7B787BAF9)
2023-03-09 15:40:33.007 +00:00 [INF] Now listening on: https://localhost:7023
2023-03-09 15:40:33.016 +00:00 [INF] Now listening on: http://localhost:5023
2023-03-09 15:40:33.021 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-03-09 15:40:33.023 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-09 15:40:33.029 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-09 15:40:33.033 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-09 15:40:33.036 +00:00 [INF] Hosting environment: Development
2023-03-09 15:40:33.039 +00:00 [INF] Content root path: C:\netcorecourses\CityInfo\CityInfo.API\
2023-03-09 15:40:33.041 +00:00 [DBG] Hosting started
2023-03-09 15:40:33.289 +00:00 [DBG] Connection id "0HMP0MIFC7MS9" received FIN.
2023-03-09 15:40:33.325 +00:00 [DBG] Connection id "0HMP0MIFC7MS9" accepted.
2023-03-09 15:40:33.331 +00:00 [DBG] Connection id "0HMP0MIFC7MS9" started.
2023-03-09 15:40:33.381 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 15:40:33.491 +00:00 [DBG] Connection id "0HMP0MIFC7MS9" stopped.
2023-03-09 15:40:33.502 +00:00 [DBG] Connection id "0HMP0MIFC7MS9" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 15:40:34.222 +00:00 [DBG] Connection id "0HMP0MIFC7MSA" accepted.
2023-03-09 15:40:34.299 +00:00 [DBG] Connection id "0HMP0MIFC7MSA" started.
2023-03-09 15:40:34.588 +00:00 [DBG] Connection 0HMP0MIFC7MSA established using the following protocol: "Tls13"
2023-03-09 15:40:34.742 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/swagger/index.html - -
2023-03-09 15:40:34.834 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-09 15:40:35.142 +00:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-03-09 15:40:35.656 +00:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-03-09 15:40:35.698 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/_vs/browserLink - -
2023-03-09 15:40:35.698 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/_framework/aspnetcore-browser-refresh.js - -
2023-03-09 15:40:35.716 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/swagger/index.html - - - 200 - text/html;charset=utf-8 986.3902ms
2023-03-09 15:40:35.748 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 50.0198ms
2023-03-09 15:40:35.809 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 110.6948ms
2023-03-09 15:40:36.630 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/swagger/v1/swagger.json - -
2023-03-09 15:40:37.093 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 463.0354ms
2023-03-09 15:40:48.167 +00:00 [DBG] Connection id "0HMP0MIFC7MSB" accepted.
2023-03-09 15:40:48.168 +00:00 [DBG] Connection id "0HMP0MIFC7MSB" received FIN.
2023-03-09 15:40:48.178 +00:00 [DBG] Connection id "0HMP0MIFC7MSB" started.
2023-03-09 15:40:48.179 +00:00 [DBG] Connection id "0HMP0MIFC7MSC" accepted.
2023-03-09 15:40:48.185 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 15:40:48.187 +00:00 [DBG] Connection id "0HMP0MIFC7MSC" started.
2023-03-09 15:40:48.203 +00:00 [DBG] Connection id "0HMP0MIFC7MSB" stopped.
2023-03-09 15:40:48.209 +00:00 [DBG] Connection id "0HMP0MIFC7MSB" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 15:40:48.229 +00:00 [DBG] Connection 0HMP0MIFC7MSC established using the following protocol: "Tls13"
2023-03-09 15:40:48.261 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7023/api/cities/1?includepointsofinterest=true - -
2023-03-09 15:40:48.281 +00:00 [DBG] The request path  does not match the path filter
2023-03-09 15:40:48.379 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-03-09 15:40:48.390 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-03-09 15:40:48.397 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-09 15:40:48.403 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-09 15:40:48.485 +00:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-03-09 15:40:48.493 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-09 15:40:48.496 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-09 15:40:48.499 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-09 15:40:48.507 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-09 15:40:48.511 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-09 15:40:48.516 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-09 15:40:48.938 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-09 15:40:49.446 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-09 15:40:49.483 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-03-09 15:40:49.490 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-03-09 15:40:49.496 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-03-09 15:40:49.499 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-03-09 15:40:49.503 +00:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-03-09 15:40:49.511 +00:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-03-09 15:40:49.518 +00:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-03-09 15:40:49.524 +00:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-03-09 15:40:49.531 +00:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-09 15:40:49.534 +00:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-09 15:40:49.538 +00:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-03-09 15:40:49.544 +00:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-09 15:40:52.033 +00:00 [INF] Entity Framework Core 6.0.14 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None
2023-03-09 15:40:52.280 +00:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterest)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-03-09 15:40:52.498 +00:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2023-03-09 15:40:53.242 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-09 15:40:53.394 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 15:40:53.482 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (84ms).
2023-03-09 15:40:53.526 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:40:54.166 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:40:54.212 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[Name], [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[Id] = @__cityId_0
) AS [t]
LEFT JOIN [PointsOfInterest] AS [p] ON [t].[Id] = [p].[CityId]
ORDER BY [t].[Id]
2023-03-09 15:40:54.386 +00:00 [INF] Executed DbCommand (188ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[Name], [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[Id] = @__cityId_0
) AS [t]
LEFT JOIN [PointsOfInterest] AS [p] ON [t].[Id] = [p].[CityId]
ORDER BY [t].[Id]
2023-03-09 15:40:54.471 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 15:40:54.533 +00:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 15:40:54.576 +00:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 15:40:54.625 +00:00 [DBG] A data reader was disposed.
2023-03-09 15:40:54.647 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:40:54.670 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:40:54.709 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-09 15:40:54.718 +00:00 [DBG] No information found on request to perform content negotiation.
2023-03-09 15:40:54.720 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-09 15:40:54.724 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-09 15:40:54.727 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-09 15:40:54.730 +00:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2023-03-09 15:40:54.992 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 6468.2846ms
2023-03-09 15:40:54.997 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-09 15:40:55.001 +00:00 [DBG] Connection id "0HMP0MIFC7MSC" completed keep alive response.
2023-03-09 15:40:55.013 +00:00 [DBG] 'CityInfoContext' disposed.
2023-03-09 15:40:55.026 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7023/api/cities/1?includepointsofinterest=true - - - 200 331 application/json;+charset=utf-8 6765.2181ms
2023-03-09 15:41:03.959 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7023/api/cities/15/pointsofinterest/1 - -
2023-03-09 15:41:03.961 +00:00 [DBG] The request path  does not match the path filter
2023-03-09 15:41:03.964 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/15/pointsofinterest/1'
2023-03-09 15:41:03.966 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/15/pointsofinterest/1'
2023-03-09 15:41:03.978 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)'
2023-03-09 15:41:03.982 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)'
2023-03-09 15:41:03.992 +00:00 [INF] Route matched with {action = "PointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] PointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-03-09 15:41:04.007 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-09 15:41:04.011 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-09 15:41:04.017 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-09 15:41:04.028 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-09 15:41:04.032 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-09 15:41:04.038 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 15:41:04.041 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 15:41:04.044 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-09 15:41:04.046 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-09 15:41:04.049 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 15:41:04.053 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 15:41:04.056 +00:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-09 15:41:04.058 +00:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-09 15:41:04.061 +00:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-09 15:41:04.064 +00:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-03-09 15:41:04.070 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 15:41:04.073 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 15:41:04.076 +00:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-09 15:41:04.079 +00:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 15:41:43.093 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-09 15:41:43.482 +00:00 [DBG] Hosting starting
2023-03-09 15:41:43.924 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 32D04A39E92E2B369F4560A1D0100AD7B787BAF9)
2023-03-09 15:41:44.111 +00:00 [INF] Now listening on: https://localhost:7023
2023-03-09 15:41:44.114 +00:00 [INF] Now listening on: http://localhost:5023
2023-03-09 15:41:44.116 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-03-09 15:41:44.119 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-09 15:41:44.121 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-09 15:41:44.123 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-09 15:41:44.125 +00:00 [INF] Hosting environment: Development
2023-03-09 15:41:44.127 +00:00 [INF] Content root path: C:\netcorecourses\CityInfo\CityInfo.API\
2023-03-09 15:41:44.129 +00:00 [DBG] Hosting started
2023-03-09 15:41:44.423 +00:00 [DBG] Connection id "0HMP0MJ4IIV91" received FIN.
2023-03-09 15:41:44.427 +00:00 [DBG] Connection id "0HMP0MJ4IIV91" accepted.
2023-03-09 15:41:44.432 +00:00 [DBG] Connection id "0HMP0MJ4IIV91" started.
2023-03-09 15:41:44.473 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 15:41:44.556 +00:00 [DBG] Connection id "0HMP0MJ4IIV91" stopped.
2023-03-09 15:41:44.564 +00:00 [DBG] Connection id "0HMP0MJ4IIV91" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 15:41:45.259 +00:00 [DBG] Connection id "0HMP0MJ4IIV92" accepted.
2023-03-09 15:41:45.265 +00:00 [DBG] Connection id "0HMP0MJ4IIV92" started.
2023-03-09 15:41:45.367 +00:00 [DBG] Connection id "0HMP0MJ4IIV93" accepted.
2023-03-09 15:41:45.369 +00:00 [DBG] Connection id "0HMP0MJ4IIV93" started.
2023-03-09 15:41:45.369 +00:00 [DBG] Connection id "0HMP0MJ4IIV94" accepted.
2023-03-09 15:41:45.370 +00:00 [DBG] Connection id "0HMP0MJ4IIV93" received FIN.
2023-03-09 15:41:45.644 +00:00 [DBG] Connection id "0HMP0MJ4IIV94" started.
2023-03-09 15:41:45.707 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 15:41:45.722 +00:00 [DBG] Connection id "0HMP0MJ4IIV93" stopped.
2023-03-09 15:41:45.727 +00:00 [DBG] Connection id "0HMP0MJ4IIV93" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 15:41:45.794 +00:00 [DBG] Connection 0HMP0MJ4IIV94 established using the following protocol: "Tls13"
2023-03-09 15:41:45.794 +00:00 [DBG] Connection 0HMP0MJ4IIV92 established using the following protocol: "Tls13"
2023-03-09 15:41:45.933 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7023/api/cities/15/pointsofinterest/1 - -
2023-03-09 15:41:45.933 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/swagger/index.html - -
2023-03-09 15:41:45.983 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-09 15:41:46.113 +00:00 [DBG] The request path  does not match the path filter
2023-03-09 15:41:46.216 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/15/pointsofinterest/1'
2023-03-09 15:41:46.246 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/15/pointsofinterest/1'
2023-03-09 15:41:46.260 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)'
2023-03-09 15:41:46.274 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)'
2023-03-09 15:41:46.343 +00:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-03-09 15:41:46.385 +00:00 [INF] Route matched with {action = "PointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] PointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-03-09 15:41:46.452 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-09 15:41:46.461 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-09 15:41:46.465 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-09 15:41:46.475 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-09 15:41:46.480 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-09 15:41:46.486 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 15:41:46.935 +00:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-03-09 15:41:46.953 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/_vs/browserLink - -
2023-03-09 15:41:46.954 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/_framework/aspnetcore-browser-refresh.js - -
2023-03-09 15:41:46.964 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/swagger/index.html - - - 200 - text/html;charset=utf-8 1041.7243ms
2023-03-09 15:41:46.989 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 35.3539ms
2023-03-09 15:41:47.188 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 234.6878ms
2023-03-09 15:41:47.222 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-09 15:41:47.779 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/swagger/v1/swagger.json - -
2023-03-09 15:41:47.827 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 15:41:47.861 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-09 15:41:47.877 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-09 15:41:47.882 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 15:41:47.885 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 15:41:47.892 +00:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-09 15:41:47.899 +00:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-09 15:41:47.907 +00:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-09 15:41:47.910 +00:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-03-09 15:41:47.916 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 15:41:47.924 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 15:41:47.928 +00:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-09 15:41:47.931 +00:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 15:41:48.209 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 429.3231ms
2023-03-09 15:41:50.296 +00:00 [INF] Entity Framework Core 6.0.14 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None
2023-03-09 15:41:50.470 +00:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-03-09 15:41:51.111 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-09 15:41:51.296 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 15:41:51.411 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (107ms).
2023-03-09 15:41:51.467 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:41:52.243 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:41:52.284 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 15:41:52.462 +00:00 [INF] Executed DbCommand (195ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 15:41:52.530 +00:00 [DBG] A data reader was disposed.
2023-03-09 15:41:52.546 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:41:52.566 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:41:52.571 +00:00 [INF] City with id 15 wasn't found when trying to return PointOfInterest
2023-03-09 15:41:52.582 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-09 15:41:52.593 +00:00 [DBG] No information found on request to perform content negotiation.
2023-03-09 15:41:52.595 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-09 15:41:52.597 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-09 15:41:52.599 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-09 15:41:52.604 +00:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.Int32'.
2023-03-09 15:41:52.799 +00:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API) in 6304.9917ms
2023-03-09 15:41:52.808 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)'
2023-03-09 15:41:52.812 +00:00 [DBG] Connection id "0HMP0MJ4IIV94" completed keep alive response.
2023-03-09 15:41:52.825 +00:00 [DBG] 'CityInfoContext' disposed.
2023-03-09 15:41:52.834 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7023/api/cities/15/pointsofinterest/1 - - - 404 2 application/json;+charset=utf-8 6912.4949ms
2023-03-09 15:41:56.739 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7023/api/cities/15/pointsofinterest/1 - -
2023-03-09 15:41:56.741 +00:00 [DBG] The request path  does not match the path filter
2023-03-09 15:41:56.747 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/15/pointsofinterest/1'
2023-03-09 15:41:56.750 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/15/pointsofinterest/1'
2023-03-09 15:41:56.756 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)'
2023-03-09 15:41:56.761 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)'
2023-03-09 15:41:56.763 +00:00 [INF] Route matched with {action = "PointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] PointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-03-09 15:41:56.768 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-09 15:41:56.771 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-09 15:41:56.775 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-09 15:41:56.781 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-09 15:41:56.785 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-09 15:41:56.790 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 15:41:56.794 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 15:41:56.797 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-09 15:41:56.801 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-09 15:41:56.806 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 15:41:56.809 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 15:41:56.811 +00:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-09 15:41:56.814 +00:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-09 15:41:56.816 +00:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-09 15:41:56.821 +00:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-03-09 15:41:56.827 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 15:41:56.830 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 15:41:56.837 +00:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-09 15:41:56.841 +00:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 15:41:56.847 +00:00 [INF] Entity Framework Core 6.0.14 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None
2023-03-09 15:41:56.864 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 15:41:56.869 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-03-09 15:41:56.872 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:41:56.877 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:41:56.880 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 15:41:56.894 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 15:41:56.903 +00:00 [DBG] A data reader was disposed.
2023-03-09 15:41:56.905 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:41:56.907 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:41:56.910 +00:00 [INF] City with id 15 wasn't found when trying to return PointOfInterest
2023-03-09 15:41:56.913 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-09 15:41:56.922 +00:00 [DBG] No information found on request to perform content negotiation.
2023-03-09 15:41:56.923 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-09 15:41:56.926 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-09 15:41:56.928 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-09 15:41:56.932 +00:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.Int32'.
2023-03-09 15:41:56.936 +00:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API) in 146.2968ms
2023-03-09 15:41:56.939 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)'
2023-03-09 15:41:56.941 +00:00 [DBG] Connection id "0HMP0MJ4IIV94" completed keep alive response.
2023-03-09 15:41:56.944 +00:00 [DBG] 'CityInfoContext' disposed.
2023-03-09 15:41:56.949 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7023/api/cities/15/pointsofinterest/1 - - - 404 2 application/json;+charset=utf-8 209.6671ms
2023-03-09 15:42:13.942 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7023/api/cities/1/pointsofinterest/1 - -
2023-03-09 15:42:13.965 +00:00 [DBG] The request path  does not match the path filter
2023-03-09 15:42:13.968 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-03-09 15:42:13.971 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-03-09 15:42:13.976 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)'
2023-03-09 15:42:13.983 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)'
2023-03-09 15:42:13.985 +00:00 [INF] Route matched with {action = "PointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] PointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-03-09 15:42:13.990 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-09 15:42:13.996 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-09 15:42:14.001 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-09 15:42:14.005 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-09 15:42:14.010 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-09 15:42:14.015 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 15:42:14.023 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 15:42:14.028 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-09 15:42:14.032 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-09 15:42:14.036 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 15:42:14.039 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 15:42:14.042 +00:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-09 15:42:14.047 +00:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-09 15:42:14.050 +00:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-09 15:42:14.053 +00:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-03-09 15:42:14.058 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 15:42:14.064 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 15:42:14.069 +00:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-09 15:42:14.075 +00:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 15:42:14.236 +00:00 [INF] Entity Framework Core 6.0.14 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None
2023-03-09 15:42:14.246 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 15:42:14.249 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-03-09 15:42:14.253 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:42:14.256 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:42:14.265 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 15:42:14.280 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 15:42:14.295 +00:00 [DBG] A data reader was disposed.
2023-03-09 15:42:14.301 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:42:14.315 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:42:14.330 +00:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2023-03-09 15:42:14.415 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-09 15:42:14.443 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 15:42:14.448 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-03-09 15:42:14.451 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:42:14.454 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:42:14.456 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE ([p].[CityId] = @__cityId_0) AND ([p].[Id] = @__pointOfInterestId_1)
2023-03-09 15:42:14.466 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE ([p].[CityId] = @__cityId_0) AND ([p].[Id] = @__pointOfInterestId_1)
2023-03-09 15:42:14.504 +00:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 15:42:14.589 +00:00 [DBG] A data reader was disposed.
2023-03-09 15:42:14.590 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:42:14.593 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:42:14.623 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-09 15:42:14.631 +00:00 [DBG] No information found on request to perform content negotiation.
2023-03-09 15:42:14.632 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-09 15:42:14.636 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-09 15:42:14.638 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-09 15:42:14.641 +00:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2023-03-09 15:42:14.740 +00:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API) in 724.4099ms
2023-03-09 15:42:14.747 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)'
2023-03-09 15:42:14.751 +00:00 [DBG] Connection id "0HMP0MJ4IIV94" completed keep alive response.
2023-03-09 15:42:14.754 +00:00 [DBG] 'CityInfoContext' disposed.
2023-03-09 15:42:14.757 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7023/api/cities/1/pointsofinterest/1 - - - 200 96 application/json;+charset=utf-8 814.6736ms
2023-03-09 15:43:15.829 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7023/api/cities/15/pointsofinterest/1 - -
2023-03-09 15:43:15.838 +00:00 [DBG] The request path  does not match the path filter
2023-03-09 15:43:15.842 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/15/pointsofinterest/1'
2023-03-09 15:43:15.846 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/15/pointsofinterest/1'
2023-03-09 15:43:15.854 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)'
2023-03-09 15:43:15.859 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)'
2023-03-09 15:43:15.862 +00:00 [INF] Route matched with {action = "PointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] PointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-03-09 15:43:15.871 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-09 15:43:15.879 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-09 15:43:15.885 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-09 15:43:15.896 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-09 15:43:15.904 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-09 15:43:15.910 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 15:43:15.916 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 15:43:15.920 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-09 15:43:15.923 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-09 15:43:15.930 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 15:43:15.934 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 15:43:15.937 +00:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-09 15:43:15.941 +00:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-09 15:43:15.947 +00:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-09 15:43:15.950 +00:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-03-09 15:43:15.955 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 15:43:15.961 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 15:43:15.964 +00:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-09 15:43:15.968 +00:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 15:43:15.973 +00:00 [INF] Entity Framework Core 6.0.14 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None
2023-03-09 15:43:15.981 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 15:43:15.983 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-03-09 15:43:15.987 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:43:15.994 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:43:15.997 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 15:43:16.012 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 15:43:16.019 +00:00 [DBG] A data reader was disposed.
2023-03-09 15:43:16.025 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:43:16.029 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:43:16.033 +00:00 [INF] City with id 15 wasn't found when trying to return PointOfInterest
2023-03-09 15:43:16.037 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-09 15:43:16.048 +00:00 [DBG] No information found on request to perform content negotiation.
2023-03-09 15:43:16.052 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-09 15:43:16.056 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-09 15:43:16.059 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-09 15:43:16.064 +00:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.Int32'.
2023-03-09 15:43:16.070 +00:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API) in 160.0419ms
2023-03-09 15:43:16.075 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)'
2023-03-09 15:43:16.079 +00:00 [DBG] Connection id "0HMP0MJ4IIV94" completed keep alive response.
2023-03-09 15:43:16.081 +00:00 [DBG] 'CityInfoContext' disposed.
2023-03-09 15:43:16.089 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7023/api/cities/15/pointsofinterest/1 - - - 404 2 application/json;+charset=utf-8 259.4550ms
2023-03-09 15:45:45.896 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-09 15:45:46.594 +00:00 [DBG] Hosting starting
2023-03-09 15:45:46.963 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 32D04A39E92E2B369F4560A1D0100AD7B787BAF9)
2023-03-09 15:45:47.148 +00:00 [INF] Now listening on: https://localhost:7023
2023-03-09 15:45:47.164 +00:00 [INF] Now listening on: http://localhost:5023
2023-03-09 15:45:47.166 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-03-09 15:45:47.170 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-09 15:45:47.172 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-09 15:45:47.174 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-09 15:45:47.176 +00:00 [INF] Hosting environment: Development
2023-03-09 15:45:47.179 +00:00 [INF] Content root path: C:\netcorecourses\CityInfo\CityInfo.API\
2023-03-09 15:45:47.185 +00:00 [DBG] Hosting started
2023-03-09 15:45:47.428 +00:00 [DBG] Connection id "0HMP0MLD036NJ" received FIN.
2023-03-09 15:45:47.452 +00:00 [DBG] Connection id "0HMP0MLD036NJ" accepted.
2023-03-09 15:45:47.461 +00:00 [DBG] Connection id "0HMP0MLD036NJ" started.
2023-03-09 15:45:47.516 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 15:45:47.597 +00:00 [DBG] Connection id "0HMP0MLD036NJ" stopped.
2023-03-09 15:45:47.612 +00:00 [DBG] Connection id "0HMP0MLD036NJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 15:45:48.317 +00:00 [DBG] Connection id "0HMP0MLD036NK" accepted.
2023-03-09 15:45:48.366 +00:00 [DBG] Connection id "0HMP0MLD036NK" started.
2023-03-09 15:45:48.475 +00:00 [DBG] Connection 0HMP0MLD036NK established using the following protocol: "Tls13"
2023-03-09 15:45:48.663 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/swagger/index.html - -
2023-03-09 15:45:48.764 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-09 15:45:49.056 +00:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-03-09 15:45:49.607 +00:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-03-09 15:45:49.617 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/_vs/browserLink - -
2023-03-09 15:45:49.617 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/_framework/aspnetcore-browser-refresh.js - -
2023-03-09 15:45:49.644 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/swagger/index.html - - - 200 - text/html;charset=utf-8 992.6297ms
2023-03-09 15:45:49.709 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 91.7710ms
2023-03-09 15:45:49.734 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 116.9691ms
2023-03-09 15:45:50.460 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/swagger/v1/swagger.json - -
2023-03-09 15:45:50.852 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 391.6881ms
2023-03-09 15:46:00.971 +00:00 [DBG] Connection id "0HMP0MLD036NL" accepted.
2023-03-09 15:46:00.975 +00:00 [DBG] Connection id "0HMP0MLD036NL" started.
2023-03-09 15:46:00.973 +00:00 [DBG] Connection id "0HMP0MLD036NL" received FIN.
2023-03-09 15:46:00.976 +00:00 [DBG] Connection id "0HMP0MLD036NM" accepted.
2023-03-09 15:46:00.984 +00:00 [DBG] Connection id "0HMP0MLD036NM" started.
2023-03-09 15:46:01.004 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 15:46:01.008 +00:00 [DBG] Connection 0HMP0MLD036NM established using the following protocol: "Tls13"
2023-03-09 15:46:01.016 +00:00 [DBG] Connection id "0HMP0MLD036NL" stopped.
2023-03-09 15:46:01.021 +00:00 [DBG] Connection id "0HMP0MLD036NL" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 15:46:01.040 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7023/api/cities/1/pointsofinterest/15 - -
2023-03-09 15:46:01.045 +00:00 [DBG] The request path  does not match the path filter
2023-03-09 15:46:01.092 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/15'
2023-03-09 15:46:01.105 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/15'
2023-03-09 15:46:01.114 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)'
2023-03-09 15:46:01.125 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)'
2023-03-09 15:46:01.180 +00:00 [INF] Route matched with {action = "PointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] PointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-03-09 15:46:01.187 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-09 15:46:01.191 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-09 15:46:01.194 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-09 15:46:01.198 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-09 15:46:01.202 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-09 15:46:01.207 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 15:46:01.499 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-09 15:46:01.887 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 15:46:01.896 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-09 15:46:01.900 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-09 15:46:01.905 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 15:46:01.907 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 15:46:01.910 +00:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-09 15:46:01.914 +00:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-09 15:46:01.921 +00:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-09 15:46:01.923 +00:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-03-09 15:46:01.926 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 15:46:01.929 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 15:46:01.931 +00:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-09 15:46:01.934 +00:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 15:46:03.890 +00:00 [INF] Entity Framework Core 6.0.14 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None
2023-03-09 15:46:04.075 +00:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-03-09 15:46:04.710 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-09 15:46:04.912 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 15:46:04.994 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (74ms).
2023-03-09 15:46:05.041 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:46:05.716 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:46:05.763 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 15:46:05.944 +00:00 [INF] Executed DbCommand (202ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 15:46:06.006 +00:00 [DBG] A data reader was disposed.
2023-03-09 15:46:06.021 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:46:06.040 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:46:06.048 +00:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2023-03-09 15:46:06.153 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-09 15:46:06.188 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 15:46:06.191 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-03-09 15:46:06.194 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:46:06.200 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:46:06.203 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE ([p].[CityId] = @__cityId_0) AND ([p].[Id] = @__pointOfInterestId_1)
2023-03-09 15:46:06.215 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE ([p].[CityId] = @__cityId_0) AND ([p].[Id] = @__pointOfInterestId_1)
2023-03-09 15:46:06.227 +00:00 [DBG] A data reader was disposed.
2023-03-09 15:46:06.229 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:46:06.232 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:46:06.237 +00:00 [INF] PointOfInterest with id 15 wasn't found for city with id 1
2023-03-09 15:46:06.248 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-09 15:46:06.259 +00:00 [DBG] No information found on request to perform content negotiation.
2023-03-09 15:46:06.261 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-09 15:46:06.263 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-09 15:46:06.267 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-09 15:46:06.272 +00:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.Int32'.
2023-03-09 15:46:06.454 +00:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API) in 5238.4178ms
2023-03-09 15:46:06.460 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)'
2023-03-09 15:46:06.464 +00:00 [DBG] Connection id "0HMP0MLD036NM" completed keep alive response.
2023-03-09 15:46:06.475 +00:00 [DBG] 'CityInfoContext' disposed.
2023-03-09 15:46:06.484 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7023/api/cities/1/pointsofinterest/15 - - - 404 2 application/json;+charset=utf-8 5443.8686ms
2023-03-09 15:46:30.264 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7023/api/cities/1/pointsofinterest/1 - -
2023-03-09 15:46:30.272 +00:00 [DBG] The request path  does not match the path filter
2023-03-09 15:46:30.279 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-03-09 15:46:30.282 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-03-09 15:46:30.287 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)'
2023-03-09 15:46:30.296 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)'
2023-03-09 15:46:30.299 +00:00 [INF] Route matched with {action = "PointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] PointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-03-09 15:46:30.310 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-09 15:46:30.314 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-09 15:46:30.318 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-09 15:46:30.324 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-09 15:46:30.329 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-09 15:46:30.332 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 15:46:30.340 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 15:46:30.345 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-09 15:46:30.348 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-09 15:46:30.355 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 15:46:30.363 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 15:46:30.370 +00:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-09 15:46:30.374 +00:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-09 15:46:30.380 +00:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-09 15:46:30.389 +00:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-03-09 15:46:30.395 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 15:46:30.401 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 15:46:30.404 +00:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-09 15:46:30.409 +00:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 15:46:30.417 +00:00 [INF] Entity Framework Core 6.0.14 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None
2023-03-09 15:46:30.431 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 15:46:30.434 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-03-09 15:46:30.437 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:46:30.440 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:46:30.447 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 15:46:30.454 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 15:46:30.466 +00:00 [DBG] A data reader was disposed.
2023-03-09 15:46:30.468 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:46:30.472 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:46:30.479 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 15:46:30.481 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-03-09 15:46:30.485 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:46:30.488 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:46:30.495 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE ([p].[CityId] = @__cityId_0) AND ([p].[Id] = @__pointOfInterestId_1)
2023-03-09 15:46:30.506 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE ([p].[CityId] = @__cityId_0) AND ([p].[Id] = @__pointOfInterestId_1)
2023-03-09 15:46:30.546 +00:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 15:46:30.607 +00:00 [DBG] A data reader was disposed.
2023-03-09 15:46:30.610 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:46:30.614 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:46:30.638 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-09 15:46:30.650 +00:00 [DBG] No information found on request to perform content negotiation.
2023-03-09 15:46:30.652 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-09 15:46:30.655 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-09 15:46:30.659 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-09 15:46:30.665 +00:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2023-03-09 15:46:30.771 +00:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API) in 438.0492ms
2023-03-09 15:46:30.776 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)'
2023-03-09 15:46:30.780 +00:00 [DBG] Connection id "0HMP0MLD036NM" completed keep alive response.
2023-03-09 15:46:30.785 +00:00 [DBG] 'CityInfoContext' disposed.
2023-03-09 15:46:30.794 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7023/api/cities/1/pointsofinterest/1 - - - 200 96 application/json;+charset=utf-8 540.2574ms
2023-03-09 15:46:52.086 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7023/api/cities/15/pointsofinterest/1 - -
2023-03-09 15:46:52.088 +00:00 [DBG] The request path  does not match the path filter
2023-03-09 15:46:52.095 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/15/pointsofinterest/1'
2023-03-09 15:46:52.102 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/15/pointsofinterest/1'
2023-03-09 15:46:52.113 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)'
2023-03-09 15:46:52.124 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)'
2023-03-09 15:46:52.130 +00:00 [INF] Route matched with {action = "PointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] PointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-03-09 15:46:52.142 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-09 15:46:52.147 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-09 15:46:52.150 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-09 15:46:52.158 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-09 15:46:52.163 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-09 15:46:52.169 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 15:46:52.176 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 15:46:52.180 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-09 15:46:52.183 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-09 15:46:52.188 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 15:46:52.191 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 15:46:52.195 +00:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-09 15:46:52.198 +00:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-09 15:46:52.201 +00:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-09 15:46:52.205 +00:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-03-09 15:46:52.210 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 15:46:52.213 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 15:46:52.215 +00:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-09 15:46:52.218 +00:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 15:46:52.299 +00:00 [INF] Entity Framework Core 6.0.14 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None
2023-03-09 15:46:52.307 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 15:46:52.309 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-03-09 15:46:52.314 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:46:52.321 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:46:52.325 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 15:46:52.341 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 15:46:52.357 +00:00 [DBG] A data reader was disposed.
2023-03-09 15:46:52.358 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:46:52.365 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:46:52.368 +00:00 [INF] City with id 15 wasn't found when trying to return PointOfInterest
2023-03-09 15:46:52.372 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-09 15:46:52.382 +00:00 [DBG] No information found on request to perform content negotiation.
2023-03-09 15:46:52.386 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-09 15:46:52.389 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-09 15:46:52.393 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-09 15:46:52.397 +00:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.Int32'.
2023-03-09 15:46:52.399 +00:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API) in 230.1383ms
2023-03-09 15:46:52.404 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)'
2023-03-09 15:46:52.407 +00:00 [DBG] Connection id "0HMP0MLD036NM" completed keep alive response.
2023-03-09 15:46:52.411 +00:00 [DBG] 'CityInfoContext' disposed.
2023-03-09 15:46:52.414 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7023/api/cities/15/pointsofinterest/1 - - - 404 2 application/json;+charset=utf-8 328.8073ms
2023-03-09 15:47:04.846 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7023/api/cities/1/pointsofinterest/15 - -
2023-03-09 15:47:04.849 +00:00 [DBG] The request path  does not match the path filter
2023-03-09 15:47:04.853 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/15'
2023-03-09 15:47:04.857 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/15'
2023-03-09 15:47:04.863 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)'
2023-03-09 15:47:04.868 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)'
2023-03-09 15:47:04.872 +00:00 [INF] Route matched with {action = "PointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] PointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-03-09 15:47:04.878 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-09 15:47:04.882 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-09 15:47:04.886 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-09 15:47:04.893 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-09 15:47:04.896 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-09 15:47:04.901 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 15:47:04.907 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 15:47:04.911 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-09 15:47:04.914 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-09 15:47:04.920 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 15:47:04.924 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 15:47:04.927 +00:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-09 15:47:04.930 +00:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-09 15:47:04.937 +00:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-09 15:47:04.941 +00:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-03-09 15:47:04.946 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 15:47:04.951 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 15:47:04.956 +00:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-09 15:47:04.959 +00:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 15:47:04.963 +00:00 [INF] Entity Framework Core 6.0.14 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None
2023-03-09 15:47:04.971 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 15:47:04.973 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-03-09 15:47:04.975 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:47:04.978 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:47:04.985 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 15:47:05.006 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 15:47:05.025 +00:00 [DBG] A data reader was disposed.
2023-03-09 15:47:05.029 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:47:05.034 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:47:05.039 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 15:47:05.041 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-03-09 15:47:05.047 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:47:05.051 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:47:05.055 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE ([p].[CityId] = @__cityId_0) AND ([p].[Id] = @__pointOfInterestId_1)
2023-03-09 15:47:05.067 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE ([p].[CityId] = @__cityId_0) AND ([p].[Id] = @__pointOfInterestId_1)
2023-03-09 15:47:05.076 +00:00 [DBG] A data reader was disposed.
2023-03-09 15:47:05.078 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:47:05.081 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 15:47:05.084 +00:00 [INF] PointOfInterest with id 15 wasn't found for city with id 1
2023-03-09 15:47:05.087 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-09 15:47:05.099 +00:00 [DBG] No information found on request to perform content negotiation.
2023-03-09 15:47:05.101 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-09 15:47:05.106 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-09 15:47:05.108 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-09 15:47:05.113 +00:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.Int32'.
2023-03-09 15:47:05.117 +00:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API) in 216.3283ms
2023-03-09 15:47:05.124 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)'
2023-03-09 15:47:05.127 +00:00 [DBG] Connection id "0HMP0MLD036NM" completed keep alive response.
2023-03-09 15:47:05.130 +00:00 [DBG] 'CityInfoContext' disposed.
2023-03-09 15:47:05.136 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7023/api/cities/1/pointsofinterest/15 - - - 404 2 application/json;+charset=utf-8 289.5715ms
2023-03-09 16:18:00.583 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-09 16:18:00.862 +00:00 [DBG] Hosting starting
2023-03-09 16:18:02.325 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 32D04A39E92E2B369F4560A1D0100AD7B787BAF9)
2023-03-09 16:18:02.514 +00:00 [INF] Now listening on: https://localhost:7023
2023-03-09 16:18:02.516 +00:00 [INF] Now listening on: http://localhost:5023
2023-03-09 16:18:02.519 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-03-09 16:18:02.522 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-09 16:18:02.526 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-09 16:18:02.530 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-09 16:18:02.532 +00:00 [INF] Hosting environment: Development
2023-03-09 16:18:02.534 +00:00 [INF] Content root path: C:\netcorecourses\CityInfo\CityInfo.API\
2023-03-09 16:18:02.536 +00:00 [DBG] Hosting started
2023-03-09 16:18:02.821 +00:00 [DBG] Connection id "0HMP0N7DPEDL5" received FIN.
2023-03-09 16:18:02.844 +00:00 [DBG] Connection id "0HMP0N7DPEDL5" accepted.
2023-03-09 16:18:02.850 +00:00 [DBG] Connection id "0HMP0N7DPEDL5" started.
2023-03-09 16:18:02.902 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 16:18:03.023 +00:00 [DBG] Connection id "0HMP0N7DPEDL5" stopped.
2023-03-09 16:18:03.032 +00:00 [DBG] Connection id "0HMP0N7DPEDL5" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 16:18:03.916 +00:00 [DBG] Connection id "0HMP0N7DPEDL6" accepted.
2023-03-09 16:18:03.930 +00:00 [DBG] Connection id "0HMP0N7DPEDL6" started.
2023-03-09 16:18:04.184 +00:00 [DBG] Connection 0HMP0N7DPEDL6 established using the following protocol: "Tls13"
2023-03-09 16:18:04.380 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/swagger/index.html - -
2023-03-09 16:18:04.474 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-09 16:18:04.745 +00:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-03-09 16:18:05.118 +00:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-03-09 16:18:05.130 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/swagger/index.html - - - 200 - text/html;charset=utf-8 759.6872ms
2023-03-09 16:18:05.173 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/_vs/browserLink - -
2023-03-09 16:18:05.174 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/_framework/aspnetcore-browser-refresh.js - -
2023-03-09 16:18:05.210 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 36.5383ms
2023-03-09 16:18:05.231 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 58.8402ms
2023-03-09 16:18:05.732 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/swagger/v1/swagger.json - -
2023-03-09 16:18:06.125 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 392.6846ms
2023-03-09 16:18:17.065 +00:00 [DBG] Connection id "0HMP0N7DPEDL7" accepted.
2023-03-09 16:18:17.068 +00:00 [DBG] Connection id "0HMP0N7DPEDL7" received FIN.
2023-03-09 16:18:17.069 +00:00 [DBG] Connection id "0HMP0N7DPEDL7" started.
2023-03-09 16:18:17.069 +00:00 [DBG] Connection id "0HMP0N7DPEDL8" accepted.
2023-03-09 16:18:17.075 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 16:18:17.078 +00:00 [DBG] Connection id "0HMP0N7DPEDL8" started.
2023-03-09 16:18:17.091 +00:00 [DBG] Connection id "0HMP0N7DPEDL7" stopped.
2023-03-09 16:18:17.096 +00:00 [DBG] Connection id "0HMP0N7DPEDL7" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 16:18:17.097 +00:00 [DBG] Connection 0HMP0N7DPEDL8 established using the following protocol: "Tls13"
2023-03-09 16:18:17.119 +00:00 [INF] Request starting HTTP/1.1 POST https://localhost:7023/api/cities/3/pointsofinterest application/json 117
2023-03-09 16:18:17.123 +00:00 [DBG] POST requests are not supported
2023-03-09 16:18:17.181 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-03-09 16:18:17.191 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-03-09 16:18:17.198 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-03-09 16:18:17.205 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-03-09 16:18:17.261 +00:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-03-09 16:18:17.269 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-09 16:18:17.274 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-09 16:18:17.277 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-09 16:18:17.283 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-09 16:18:17.287 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-09 16:18:17.294 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 16:18:17.604 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-09 16:18:17.965 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 16:18:17.977 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-09 16:18:17.981 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-09 16:18:17.987 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 16:18:17.991 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 16:18:17.994 +00:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-09 16:18:18.002 +00:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-09 16:18:18.008 +00:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-03-09 16:18:18.014 +00:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2023-03-09 16:18:18.026 +00:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-03-09 16:18:18.032 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-03-09 16:18:18.062 +00:00 [DBG] Connection id "0HMP0N7DPEDL8", Request id "0HMP0N7DPEDL8:00000002": started reading request body.
2023-03-09 16:18:18.067 +00:00 [DBG] Connection id "0HMP0N7DPEDL8", Request id "0HMP0N7DPEDL8:00000002": done reading request body.
2023-03-09 16:18:18.324 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-03-09 16:18:18.328 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-03-09 16:18:18.334 +00:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-03-09 16:18:18.352 +00:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-03-09 16:18:20.205 +00:00 [INF] Entity Framework Core 6.0.14 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None
2023-03-09 16:18:20.376 +00:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-03-09 16:18:20.975 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-09 16:18:21.145 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 16:18:21.234 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (82ms).
2023-03-09 16:18:21.277 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 16:18:21.977 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 16:18:22.018 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 16:18:22.205 +00:00 [INF] Executed DbCommand (197ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 16:18:22.279 +00:00 [DBG] A data reader was disposed.
2023-03-09 16:18:22.295 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 16:18:22.316 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 16:18:22.543 +00:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 5242.3969ms
2023-03-09 16:18:22.551 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-03-09 16:18:22.559 +00:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterestForCreationDto -> PointOfInterest
CityInfo.API.Models.PointOfInterestForCreationDto -> CityInfo.API.Entities.PointOfInterest
   at lambda_method35(Closure , Object , PointOfInterest , ResolutionContext )
   at CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest(Int32 cityId, PointOfInterestForCreationDto pointOfInterest) in C:\netcorecourses\CityInfo\CityInfo.API\Controllers\PointsOfInterestController.cs:line 79
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-03-09 16:18:22.666 +00:00 [DBG] Connection id "0HMP0N7DPEDL8" completed keep alive response.
2023-03-09 16:18:22.676 +00:00 [DBG] 'CityInfoContext' disposed.
2023-03-09 16:18:22.691 +00:00 [INF] Request finished HTTP/1.1 POST https://localhost:7023/api/cities/3/pointsofinterest application/json 117 - 500 - text/plain;+charset=utf-8 5571.7426ms
2023-03-09 18:15:21.066 +00:00 [INF] Request starting HTTP/1.1 POST https://localhost:7023/api/cities/3/pointsofinterest application/json 117
2023-03-09 18:15:21.070 +00:00 [DBG] POST requests are not supported
2023-03-09 18:15:21.074 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-03-09 18:15:21.077 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-03-09 18:15:21.083 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-03-09 18:15:21.087 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-03-09 18:15:21.091 +00:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-03-09 18:15:21.102 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-09 18:15:21.105 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-09 18:15:21.110 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-09 18:15:21.117 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-09 18:15:21.120 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-09 18:15:21.127 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 18:15:21.132 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 18:15:21.147 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-09 18:15:21.151 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-09 18:15:21.156 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 18:15:21.159 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 18:15:21.162 +00:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-09 18:15:21.169 +00:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-09 18:15:21.173 +00:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-03-09 18:15:21.178 +00:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2023-03-09 18:15:21.187 +00:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-03-09 18:15:21.191 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-03-09 18:15:21.195 +00:00 [DBG] Connection id "0HMP0N7DPEDL8", Request id "0HMP0N7DPEDL8:00000003": started reading request body.
2023-03-09 18:15:21.202 +00:00 [DBG] Connection id "0HMP0N7DPEDL8", Request id "0HMP0N7DPEDL8:00000003": done reading request body.
2023-03-09 18:15:21.206 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-03-09 18:15:21.210 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-03-09 18:15:21.217 +00:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-03-09 18:15:21.221 +00:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-03-09 18:15:26.273 +00:00 [INF] Entity Framework Core 6.0.14 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None
2023-03-09 18:15:26.287 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 18:15:26.289 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-03-09 18:15:26.294 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:15:26.355 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:15:26.360 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 18:15:26.376 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 18:15:26.383 +00:00 [DBG] A data reader was disposed.
2023-03-09 18:15:26.385 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:15:26.387 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:15:28.287 +00:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 7160.2372ms
2023-03-09 18:15:28.292 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-03-09 18:15:28.298 +00:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterestForCreationDto -> PointOfInterest
CityInfo.API.Models.PointOfInterestForCreationDto -> CityInfo.API.Entities.PointOfInterest
   at lambda_method35(Closure , Object , PointOfInterest , ResolutionContext )
   at CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest(Int32 cityId, PointOfInterestForCreationDto pointOfInterest) in C:\netcorecourses\CityInfo\CityInfo.API\Controllers\PointsOfInterestController.cs:line 79
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-03-09 18:15:28.356 +00:00 [DBG] Connection id "0HMP0N7DPEDL8" completed keep alive response.
2023-03-09 18:15:28.358 +00:00 [DBG] 'CityInfoContext' disposed.
2023-03-09 18:15:28.362 +00:00 [INF] Request finished HTTP/1.1 POST https://localhost:7023/api/cities/3/pointsofinterest application/json 117 - 500 - text/plain;+charset=utf-8 7301.0768ms
2023-03-09 18:20:31.460 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-09 18:20:32.005 +00:00 [DBG] Hosting starting
2023-03-09 18:20:32.578 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 32D04A39E92E2B369F4560A1D0100AD7B787BAF9)
2023-03-09 18:20:32.825 +00:00 [INF] Now listening on: https://localhost:7023
2023-03-09 18:20:32.827 +00:00 [INF] Now listening on: http://localhost:5023
2023-03-09 18:20:32.831 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-03-09 18:20:32.838 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-09 18:20:32.843 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-09 18:20:32.851 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-09 18:20:32.855 +00:00 [INF] Hosting environment: Development
2023-03-09 18:20:32.859 +00:00 [INF] Content root path: C:\netcorecourses\CityInfo\CityInfo.API\
2023-03-09 18:20:32.862 +00:00 [DBG] Hosting started
2023-03-09 18:20:33.082 +00:00 [DBG] Connection id "0HMP0PBSAVT60" received FIN.
2023-03-09 18:20:33.082 +00:00 [DBG] Connection id "0HMP0PBSAVT5V" received FIN.
2023-03-09 18:20:33.097 +00:00 [DBG] Connection id "0HMP0PBSAVT60" accepted.
2023-03-09 18:20:33.097 +00:00 [DBG] Connection id "0HMP0PBSAVT5V" accepted.
2023-03-09 18:20:33.114 +00:00 [DBG] Connection id "0HMP0PBSAVT5V" started.
2023-03-09 18:20:33.114 +00:00 [DBG] Connection id "0HMP0PBSAVT60" started.
2023-03-09 18:20:33.165 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 18:20:33.166 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 18:20:33.383 +00:00 [DBG] Connection id "0HMP0PBSAVT5V" stopped.
2023-03-09 18:20:33.383 +00:00 [DBG] Connection id "0HMP0PBSAVT60" stopped.
2023-03-09 18:20:33.405 +00:00 [DBG] Connection id "0HMP0PBSAVT5V" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 18:20:33.405 +00:00 [DBG] Connection id "0HMP0PBSAVT60" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 18:20:34.105 +00:00 [DBG] Connection id "0HMP0PBSAVT61" accepted.
2023-03-09 18:20:34.110 +00:00 [DBG] Connection id "0HMP0PBSAVT61" started.
2023-03-09 18:20:34.316 +00:00 [DBG] Connection 0HMP0PBSAVT61 established using the following protocol: "Tls13"
2023-03-09 18:20:34.465 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/swagger/index.html - -
2023-03-09 18:20:34.545 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-09 18:20:34.868 +00:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-03-09 18:20:35.337 +00:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-03-09 18:20:35.361 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/swagger/index.html - - - 200 - text/html;charset=utf-8 908.9630ms
2023-03-09 18:20:35.367 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/_vs/browserLink - -
2023-03-09 18:20:35.367 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/_framework/aspnetcore-browser-refresh.js - -
2023-03-09 18:20:35.400 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 33.1072ms
2023-03-09 18:20:35.665 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 298.1781ms
2023-03-09 18:20:36.222 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/swagger/v1/swagger.json - -
2023-03-09 18:20:36.750 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 528.3153ms
2023-03-09 18:24:26.394 +00:00 [DBG] Connection id "0HMP0PBSAVT61" received FIN.
2023-03-09 18:24:26.456 +00:00 [DBG] Connection id "0HMP0PBSAVT61" is closed. The last processed stream ID was 7.
2023-03-09 18:24:26.460 +00:00 [DBG] Connection id "0HMP0PBSAVT61" sending FIN because: "The client closed the connection."
2023-03-09 18:24:26.478 +00:00 [DBG] Connection id "0HMP0PBSAVT61" stopped.
2023-03-09 18:24:36.951 +00:00 [DBG] Connection id "0HMP0PBSAVT62" received FIN.
2023-03-09 18:24:36.954 +00:00 [DBG] Connection id "0HMP0PBSAVT62" accepted.
2023-03-09 18:24:36.961 +00:00 [DBG] Connection id "0HMP0PBSAVT62" started.
2023-03-09 18:24:36.962 +00:00 [DBG] Connection id "0HMP0PBSAVT63" accepted.
2023-03-09 18:24:36.967 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 18:24:36.969 +00:00 [DBG] Connection id "0HMP0PBSAVT63" started.
2023-03-09 18:24:36.988 +00:00 [DBG] Connection id "0HMP0PBSAVT62" stopped.
2023-03-09 18:24:37.000 +00:00 [DBG] Connection id "0HMP0PBSAVT62" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 18:24:37.007 +00:00 [DBG] Connection 0HMP0PBSAVT63 established using the following protocol: "Tls13"
2023-03-09 18:24:37.031 +00:00 [INF] Request starting HTTP/1.1 POST https://localhost:7023/api/cities/3/pointsofinterest application/json 117
2023-03-09 18:24:37.037 +00:00 [DBG] POST requests are not supported
2023-03-09 18:24:37.083 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-03-09 18:24:37.092 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-03-09 18:24:37.099 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-03-09 18:24:37.105 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-03-09 18:24:37.156 +00:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-03-09 18:24:37.169 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-09 18:24:37.172 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-09 18:24:37.181 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-09 18:24:37.187 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-09 18:24:37.190 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-09 18:24:37.200 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 18:24:37.470 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-09 18:24:37.847 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 18:24:37.856 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-09 18:24:37.861 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-09 18:24:37.865 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 18:24:37.868 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 18:24:37.873 +00:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-09 18:24:37.879 +00:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-09 18:24:37.884 +00:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-03-09 18:24:37.890 +00:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2023-03-09 18:24:37.896 +00:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-03-09 18:24:37.900 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-03-09 18:24:37.921 +00:00 [DBG] Connection id "0HMP0PBSAVT63", Request id "0HMP0PBSAVT63:00000002": started reading request body.
2023-03-09 18:24:37.926 +00:00 [DBG] Connection id "0HMP0PBSAVT63", Request id "0HMP0PBSAVT63:00000002": done reading request body.
2023-03-09 18:24:38.246 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-03-09 18:24:38.251 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-03-09 18:24:38.256 +00:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-03-09 18:24:38.279 +00:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-03-09 18:24:45.636 +00:00 [INF] Entity Framework Core 6.0.14 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None
2023-03-09 18:24:45.829 +00:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-03-09 18:24:46.467 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-09 18:24:46.649 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 18:24:46.737 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (89ms).
2023-03-09 18:24:46.774 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:24:47.487 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:24:47.528 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 18:24:47.726 +00:00 [INF] Executed DbCommand (211ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 18:24:47.811 +00:00 [DBG] A data reader was disposed.
2023-03-09 18:24:47.826 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:24:47.844 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:24:50.575 +00:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .FirstOrDefault(c => c.Id == __cityId_0)'
2023-03-09 18:24:50.672 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-09 18:24:50.706 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 18:24:50.709 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-03-09 18:24:50.713 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:24:50.719 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:24:50.722 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2023-03-09 18:24:50.742 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2023-03-09 18:24:50.833 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 18:24:50.882 +00:00 [DBG] A data reader was disposed.
2023-03-09 18:24:50.884 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:24:50.888 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:24:51.686 +00:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-03-09 18:24:51.694 +00:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-03-09 18:24:51.735 +00:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 18:24:51.805 +00:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 18:24:51.866 +00:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 18:24:51.881 +00:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-03-09 18:24:51.935 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:24:51.938 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:24:51.945 +00:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-03-09 18:24:51.973 +00:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-03-09 18:24:52.085 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 18:24:52.087 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-03-09 18:24:52.093 +00:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [PointsOfInterest] ([CityId], [Description], [Name])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [PointsOfInterest]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-03-09 18:24:52.116 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [PointsOfInterest] ([CityId], [Description], [Name])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [PointsOfInterest]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-03-09 18:24:52.202 +00:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-03-09 18:24:52.217 +00:00 [DBG] A data reader was disposed.
2023-03-09 18:24:52.233 +00:00 [DBG] Committing transaction.
2023-03-09 18:24:52.244 +00:00 [DBG] Committed transaction.
2023-03-09 18:24:52.255 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:24:52.257 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:24:52.266 +00:00 [DBG] Disposing transaction.
2023-03-09 18:24:52.291 +00:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 18:24:52.300 +00:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-03-09 18:24:56.943 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-09 18:24:56.955 +00:00 [DBG] No information found on request to perform content negotiation.
2023-03-09 18:24:56.957 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-09 18:24:56.962 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-09 18:24:56.965 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-09 18:24:56.970 +00:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2023-03-09 18:24:57.000 +00:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2023-03-09 18:24:57.024 +00:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{pointOfInterestId} for CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API) resulting in /api/cities/3/pointsofinterest/7 and 
2023-03-09 18:24:57.031 +00:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)"] with result /api/cities/3/pointsofinterest/7
2023-03-09 18:24:57.124 +00:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 19917.9056ms
2023-03-09 18:24:57.130 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-03-09 18:24:57.136 +00:00 [DBG] Connection id "0HMP0PBSAVT63" completed keep alive response.
2023-03-09 18:24:57.150 +00:00 [DBG] 'CityInfoContext' disposed.
2023-03-09 18:24:57.170 +00:00 [INF] Request finished HTTP/1.1 POST https://localhost:7023/api/cities/3/pointsofinterest application/json 117 - 201 111 application/json;+charset=utf-8 20139.2962ms
2023-03-09 18:43:32.049 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-09 18:43:32.629 +00:00 [DBG] Hosting starting
2023-03-09 18:43:33.047 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 32D04A39E92E2B369F4560A1D0100AD7B787BAF9)
2023-03-09 18:43:33.270 +00:00 [INF] Now listening on: https://localhost:7023
2023-03-09 18:43:33.320 +00:00 [INF] Now listening on: http://localhost:5023
2023-03-09 18:43:33.327 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-03-09 18:43:33.337 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-09 18:43:33.363 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-09 18:43:33.385 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-09 18:43:33.407 +00:00 [INF] Hosting environment: Development
2023-03-09 18:43:33.427 +00:00 [INF] Content root path: C:\netcorecourses\CityInfo\CityInfo.API\
2023-03-09 18:43:33.433 +00:00 [DBG] Hosting started
2023-03-09 18:43:33.579 +00:00 [DBG] Connection id "0HMP0PONOBTAO" accepted.
2023-03-09 18:43:33.579 +00:00 [DBG] Connection id "0HMP0PONOBTAO" received FIN.
2023-03-09 18:43:33.595 +00:00 [DBG] Connection id "0HMP0PONOBTAO" started.
2023-03-09 18:43:33.653 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 18:43:33.736 +00:00 [DBG] Connection id "0HMP0PONOBTAO" stopped.
2023-03-09 18:43:33.742 +00:00 [DBG] Connection id "0HMP0PONOBTAO" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 18:43:34.931 +00:00 [DBG] Connection id "0HMP0PONOBTAP" accepted.
2023-03-09 18:43:34.979 +00:00 [DBG] Connection id "0HMP0PONOBTAP" started.
2023-03-09 18:43:35.120 +00:00 [DBG] Connection 0HMP0PONOBTAP established using the following protocol: "Tls13"
2023-03-09 18:43:35.347 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/swagger/index.html - -
2023-03-09 18:43:35.444 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-09 18:43:35.745 +00:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-03-09 18:43:36.192 +00:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-03-09 18:43:36.203 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/_vs/browserLink - -
2023-03-09 18:43:36.203 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/_framework/aspnetcore-browser-refresh.js - -
2023-03-09 18:43:36.231 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/swagger/index.html - - - 200 - text/html;charset=utf-8 893.7179ms
2023-03-09 18:43:36.231 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 26.7265ms
2023-03-09 18:43:36.373 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 170.3743ms
2023-03-09 18:43:36.922 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/swagger/v1/swagger.json - -
2023-03-09 18:43:37.311 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 389.0506ms
2023-03-09 18:43:52.844 +00:00 [DBG] Connection id "0HMP0PONOBTAQ" accepted.
2023-03-09 18:43:52.851 +00:00 [DBG] Connection id "0HMP0PONOBTAQ" received FIN.
2023-03-09 18:43:52.854 +00:00 [DBG] Connection id "0HMP0PONOBTAR" accepted.
2023-03-09 18:43:52.854 +00:00 [DBG] Connection id "0HMP0PONOBTAQ" started.
2023-03-09 18:43:52.860 +00:00 [DBG] Connection id "0HMP0PONOBTAR" started.
2023-03-09 18:43:52.866 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 18:43:52.885 +00:00 [DBG] Connection id "0HMP0PONOBTAQ" stopped.
2023-03-09 18:43:52.889 +00:00 [DBG] Connection id "0HMP0PONOBTAQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 18:43:52.892 +00:00 [DBG] Connection 0HMP0PONOBTAR established using the following protocol: "Tls13"
2023-03-09 18:43:52.916 +00:00 [INF] Request starting HTTP/1.1 POST https://localhost:7023/api/cities/3/pointsofinterest application/json 0
2023-03-09 18:43:52.921 +00:00 [DBG] POST requests are not supported
2023-03-09 18:43:52.979 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-03-09 18:43:52.994 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-03-09 18:43:53.000 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-03-09 18:43:53.011 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-03-09 18:43:53.086 +00:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-03-09 18:43:53.095 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-09 18:43:53.098 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-09 18:43:53.104 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-09 18:43:53.110 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-09 18:43:53.113 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-09 18:43:53.120 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 18:43:53.383 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-09 18:43:53.738 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 18:43:53.747 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-09 18:43:53.751 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-09 18:43:53.757 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 18:43:53.760 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 18:43:53.763 +00:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-09 18:43:53.769 +00:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-09 18:43:53.775 +00:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-03-09 18:43:53.780 +00:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2023-03-09 18:43:53.788 +00:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-03-09 18:43:53.791 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-03-09 18:43:53.798 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-03-09 18:43:53.803 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-03-09 18:43:53.807 +00:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-03-09 18:43:53.824 +00:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-03-09 18:43:53.829 +00:00 [DBG] The request has model state errors, returning an error response.
2023-03-09 18:43:53.835 +00:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-03-09 18:43:53.841 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-09 18:43:53.860 +00:00 [DBG] No information found on request to perform content negotiation.
2023-03-09 18:43:53.864 +00:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-03-09 18:43:53.877 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-03-09 18:43:53.888 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-03-09 18:43:54.250 +00:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 1124.7214ms
2023-03-09 18:43:54.255 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-03-09 18:43:54.259 +00:00 [DBG] Connection id "0HMP0PONOBTAR" completed keep alive response.
2023-03-09 18:43:54.269 +00:00 [INF] Request finished HTTP/1.1 POST https://localhost:7023/api/cities/3/pointsofinterest application/json 0 - 400 308 application/problem+json;+charset=utf-8 1353.9186ms
2023-03-09 18:44:14.107 +00:00 [INF] Request starting HTTP/1.1 POST https://localhost:7023/api/cities/3/pointsofinterest application/json 117
2023-03-09 18:44:14.109 +00:00 [DBG] POST requests are not supported
2023-03-09 18:44:14.116 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-03-09 18:44:14.118 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-03-09 18:44:14.126 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-03-09 18:44:14.131 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-03-09 18:44:14.134 +00:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-03-09 18:44:14.157 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-09 18:44:14.164 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-09 18:44:14.171 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-09 18:44:14.180 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-09 18:44:14.188 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-09 18:44:14.194 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 18:44:14.216 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 18:44:14.220 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-09 18:44:14.223 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-09 18:44:14.226 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 18:44:14.232 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 18:44:14.235 +00:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-09 18:44:14.238 +00:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-09 18:44:14.241 +00:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-03-09 18:44:14.245 +00:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2023-03-09 18:44:14.253 +00:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-03-09 18:44:14.257 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-03-09 18:44:14.275 +00:00 [DBG] Connection id "0HMP0PONOBTAR", Request id "0HMP0PONOBTAR:00000003": started reading request body.
2023-03-09 18:44:14.281 +00:00 [DBG] Connection id "0HMP0PONOBTAR", Request id "0HMP0PONOBTAR:00000003": done reading request body.
2023-03-09 18:44:14.353 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-03-09 18:44:14.357 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-03-09 18:44:14.364 +00:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-03-09 18:44:14.376 +00:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-03-09 18:44:24.812 +00:00 [INF] Entity Framework Core 6.0.14 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None
2023-03-09 18:44:25.044 +00:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-03-09 18:44:25.810 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-09 18:44:26.011 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 18:44:26.122 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (99ms).
2023-03-09 18:44:26.164 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:44:26.843 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:44:26.880 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 18:44:27.059 +00:00 [INF] Executed DbCommand (193ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 18:44:27.125 +00:00 [DBG] A data reader was disposed.
2023-03-09 18:44:27.139 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:44:27.163 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:44:30.144 +00:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .FirstOrDefault(c => c.Id == __cityId_0)'
2023-03-09 18:44:30.231 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-09 18:44:30.259 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 18:44:30.262 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-03-09 18:44:30.265 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:44:30.270 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:44:30.272 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2023-03-09 18:44:30.288 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2023-03-09 18:44:30.386 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 18:44:30.453 +00:00 [DBG] A data reader was disposed.
2023-03-09 18:44:30.455 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:44:30.460 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:46:24.538 +00:00 [DBG] Connection id "0HMP0PONOBTAP" received FIN.
2023-03-09 18:46:24.595 +00:00 [DBG] Connection id "0HMP0PONOBTAP" is closed. The last processed stream ID was 7.
2023-03-09 18:46:24.597 +00:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-03-09 18:46:24.612 +00:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-03-09 18:46:24.615 +00:00 [DBG] Connection id "0HMP0PONOBTAP" sending FIN because: "The client closed the connection."
2023-03-09 18:46:24.627 +00:00 [DBG] Connection id "0HMP0PONOBTAP" stopped.
2023-03-09 18:46:24.708 +00:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 18:46:25.007 +00:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 18:46:25.170 +00:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 18:46:25.263 +00:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-03-09 18:46:25.387 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:46:25.463 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:46:25.482 +00:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-03-09 18:46:25.535 +00:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-03-09 18:46:25.839 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 18:46:26.294 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (455ms).
2023-03-09 18:46:26.305 +00:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [PointsOfInterest] ([CityId], [Description], [Name])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [PointsOfInterest]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-03-09 18:46:26.329 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [PointsOfInterest] ([CityId], [Description], [Name])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [PointsOfInterest]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-03-09 18:46:26.569 +00:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-03-09 18:46:26.613 +00:00 [DBG] A data reader was disposed.
2023-03-09 18:46:26.647 +00:00 [DBG] Committing transaction.
2023-03-09 18:46:26.715 +00:00 [DBG] Committed transaction.
2023-03-09 18:46:26.746 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:46:26.756 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:46:26.780 +00:00 [DBG] Disposing transaction.
2023-03-09 18:46:26.830 +00:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 18:46:26.862 +00:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-03-09 18:46:44.982 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-09 18:46:44.991 +00:00 [DBG] No information found on request to perform content negotiation.
2023-03-09 18:46:44.994 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-09 18:46:45.000 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-09 18:46:45.002 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-09 18:46:45.007 +00:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2023-03-09 18:46:45.046 +00:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2023-03-09 18:46:45.070 +00:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{pointOfInterestId} for CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API) resulting in /api/cities/3/pointsofinterest/8 and 
2023-03-09 18:46:45.080 +00:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)"] with result /api/cities/3/pointsofinterest/8
2023-03-09 18:46:45.088 +00:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 150894.0931ms
2023-03-09 18:46:45.096 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-03-09 18:46:45.102 +00:00 [DBG] Connection id "0HMP0PONOBTAR" completed keep alive response.
2023-03-09 18:46:45.109 +00:00 [DBG] 'CityInfoContext' disposed.
2023-03-09 18:46:45.124 +00:00 [INF] Request finished HTTP/1.1 POST https://localhost:7023/api/cities/3/pointsofinterest application/json 117 - 201 111 application/json;+charset=utf-8 151017.8249ms
2023-03-09 18:56:36.568 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-09 18:56:37.069 +00:00 [DBG] Hosting starting
2023-03-09 18:56:37.638 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 32D04A39E92E2B369F4560A1D0100AD7B787BAF9)
2023-03-09 18:56:37.886 +00:00 [INF] Now listening on: https://localhost:7023
2023-03-09 18:56:37.891 +00:00 [INF] Now listening on: http://localhost:5023
2023-03-09 18:56:37.894 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-03-09 18:56:37.899 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-09 18:56:37.902 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-09 18:56:37.920 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-09 18:56:37.930 +00:00 [INF] Hosting environment: Development
2023-03-09 18:56:37.937 +00:00 [INF] Content root path: C:\netcorecourses\CityInfo\CityInfo.API\
2023-03-09 18:56:37.939 +00:00 [DBG] Hosting started
2023-03-09 18:56:38.082 +00:00 [DBG] Connection id "0HMP0Q01I1AHD" received FIN.
2023-03-09 18:56:38.082 +00:00 [DBG] Connection id "0HMP0Q01I1AHE" received FIN.
2023-03-09 18:56:38.095 +00:00 [DBG] Connection id "0HMP0Q01I1AHE" accepted.
2023-03-09 18:56:38.095 +00:00 [DBG] Connection id "0HMP0Q01I1AHD" accepted.
2023-03-09 18:56:38.106 +00:00 [DBG] Connection id "0HMP0Q01I1AHE" started.
2023-03-09 18:56:38.109 +00:00 [DBG] Connection id "0HMP0Q01I1AHD" started.
2023-03-09 18:56:38.174 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 18:56:38.174 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 18:56:38.332 +00:00 [DBG] Connection id "0HMP0Q01I1AHE" stopped.
2023-03-09 18:56:38.332 +00:00 [DBG] Connection id "0HMP0Q01I1AHD" stopped.
2023-03-09 18:56:38.351 +00:00 [DBG] Connection id "0HMP0Q01I1AHE" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 18:56:38.351 +00:00 [DBG] Connection id "0HMP0Q01I1AHD" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 18:56:39.232 +00:00 [DBG] Connection id "0HMP0Q01I1AHF" accepted.
2023-03-09 18:56:39.311 +00:00 [DBG] Connection id "0HMP0Q01I1AHF" started.
2023-03-09 18:56:40.227 +00:00 [DBG] Connection 0HMP0Q01I1AHF established using the following protocol: "Tls13"
2023-03-09 18:56:40.382 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/swagger/index.html - -
2023-03-09 18:56:40.512 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-09 18:56:40.894 +00:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-03-09 18:56:41.633 +00:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-03-09 18:56:41.718 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/_vs/browserLink - -
2023-03-09 18:56:41.718 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/_framework/aspnetcore-browser-refresh.js - -
2023-03-09 18:56:41.772 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/swagger/index.html - - - 200 - text/html;charset=utf-8 1389.2817ms
2023-03-09 18:56:41.810 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 92.1560ms
2023-03-09 18:56:41.824 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 105.7943ms
2023-03-09 18:56:42.715 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/swagger/v1/swagger.json - -
2023-03-09 18:56:43.265 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 550.5501ms
2023-03-09 18:56:55.202 +00:00 [DBG] Connection id "0HMP0Q01I1AHG" accepted.
2023-03-09 18:56:55.204 +00:00 [DBG] Connection id "0HMP0Q01I1AHG" received FIN.
2023-03-09 18:56:55.204 +00:00 [DBG] Connection id "0HMP0Q01I1AHG" started.
2023-03-09 18:56:55.206 +00:00 [DBG] Connection id "0HMP0Q01I1AHH" accepted.
2023-03-09 18:56:55.213 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 18:56:55.215 +00:00 [DBG] Connection id "0HMP0Q01I1AHH" started.
2023-03-09 18:56:55.221 +00:00 [DBG] Connection id "0HMP0Q01I1AHG" stopped.
2023-03-09 18:56:55.235 +00:00 [DBG] Connection id "0HMP0Q01I1AHG" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 18:56:55.239 +00:00 [DBG] Connection 0HMP0Q01I1AHH established using the following protocol: "Tls13"
2023-03-09 18:56:55.272 +00:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7023/api/cities/1/pointsofinterest/1 application/json 122
2023-03-09 18:56:55.278 +00:00 [DBG] PUT requests are not supported
2023-03-09 18:56:55.335 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-03-09 18:56:55.346 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-03-09 18:56:55.355 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2023-03-09 18:56:55.363 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2023-03-09 18:56:55.431 +00:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdateDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-03-09 18:56:55.443 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-09 18:56:55.450 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-09 18:56:55.455 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-09 18:56:55.466 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-09 18:56:55.470 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-09 18:56:55.482 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 18:56:55.800 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-09 18:56:56.233 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 18:56:56.245 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-09 18:56:56.250 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-09 18:56:56.257 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 18:56:56.260 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 18:56:56.263 +00:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-09 18:56:56.269 +00:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-09 18:56:56.277 +00:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-09 18:56:56.280 +00:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-03-09 18:56:56.285 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 18:56:56.292 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 18:56:56.296 +00:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-09 18:56:56.299 +00:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 18:56:56.307 +00:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2023-03-09 18:56:56.315 +00:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2023-03-09 18:56:56.325 +00:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-03-09 18:56:56.331 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-03-09 18:56:56.362 +00:00 [DBG] Connection id "0HMP0Q01I1AHH", Request id "0HMP0Q01I1AHH:00000002": started reading request body.
2023-03-09 18:56:56.367 +00:00 [DBG] Connection id "0HMP0Q01I1AHH", Request id "0HMP0Q01I1AHH:00000002": done reading request body.
2023-03-09 18:56:56.668 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2023-03-09 18:56:56.672 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2023-03-09 18:56:56.677 +00:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2023-03-09 18:56:56.692 +00:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2023-03-09 18:56:58.801 +00:00 [INF] Entity Framework Core 6.0.14 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None
2023-03-09 18:56:59.051 +00:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-03-09 18:56:59.981 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-09 18:57:00.240 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 18:57:00.347 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (104ms).
2023-03-09 18:57:00.389 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:57:01.002 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:57:01.044 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 18:57:01.247 +00:00 [INF] Executed DbCommand (221ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 18:57:01.327 +00:00 [DBG] A data reader was disposed.
2023-03-09 18:57:01.343 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:57:01.365 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:57:01.380 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-09 18:57:01.392 +00:00 [DBG] No information found on request to perform content negotiation.
2023-03-09 18:57:01.395 +00:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-03-09 18:57:01.402 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-03-09 18:57:01.409 +00:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-03-09 18:57:01.523 +00:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API) in 6032.0311ms
2023-03-09 18:57:01.531 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2023-03-09 18:57:01.540 +00:00 [DBG] Connection id "0HMP0Q01I1AHH" completed keep alive response.
2023-03-09 18:57:01.555 +00:00 [DBG] 'CityInfoContext' disposed.
2023-03-09 18:57:01.566 +00:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7023/api/cities/1/pointsofinterest/1 application/json 122 - 404 161 application/problem+json;+charset=utf-8 6294.3129ms
2023-03-09 18:57:25.081 +00:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7023/api/cities/1/pointsofinterest/1 application/json 122
2023-03-09 18:57:25.083 +00:00 [DBG] PUT requests are not supported
2023-03-09 18:57:25.087 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-03-09 18:57:25.089 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-03-09 18:57:25.099 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2023-03-09 18:57:25.103 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2023-03-09 18:57:25.107 +00:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdateDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-03-09 18:57:25.117 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-09 18:57:25.121 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-09 18:57:25.127 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-09 18:57:25.134 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-09 18:57:25.137 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-09 18:57:25.144 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 18:57:25.151 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 18:57:25.163 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-09 18:57:25.166 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-09 18:57:25.169 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 18:57:25.174 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 18:57:25.177 +00:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-09 18:57:25.181 +00:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-09 18:57:25.183 +00:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-09 18:57:25.188 +00:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-03-09 18:57:25.192 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 18:57:25.196 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 18:57:25.199 +00:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-09 18:57:25.204 +00:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 18:57:25.207 +00:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2023-03-09 18:57:25.211 +00:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2023-03-09 18:57:25.215 +00:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-03-09 18:57:25.221 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-03-09 18:57:25.224 +00:00 [DBG] Connection id "0HMP0Q01I1AHH", Request id "0HMP0Q01I1AHH:00000003": started reading request body.
2023-03-09 18:57:25.227 +00:00 [DBG] Connection id "0HMP0Q01I1AHH", Request id "0HMP0Q01I1AHH:00000003": done reading request body.
2023-03-09 18:57:25.234 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2023-03-09 18:57:25.238 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2023-03-09 18:57:25.241 +00:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2023-03-09 18:57:25.247 +00:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2023-03-09 18:57:28.985 +00:00 [INF] Entity Framework Core 6.0.14 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None
2023-03-09 18:57:29.008 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 18:57:29.011 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-03-09 18:57:29.014 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:57:29.021 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:57:29.023 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 18:57:29.073 +00:00 [INF] Executed DbCommand (50ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 18:57:29.082 +00:00 [DBG] A data reader was disposed.
2023-03-09 18:57:29.084 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:57:29.087 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:58:23.513 +00:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-03-09 18:58:23.521 +00:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-03-09 18:58:25.431 +00:00 [DBG] Compiling query expression: 
'DbSet<City>()'
2023-03-09 18:58:25.493 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-03-09 18:58:25.511 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 18:58:25.516 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2023-03-09 18:58:25.522 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:58:25.531 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:58:25.536 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
2023-03-09 18:58:25.557 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
2023-03-09 18:58:25.591 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 18:58:25.631 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 18:58:25.635 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 18:58:25.642 +00:00 [DBG] A data reader was disposed.
2023-03-09 18:58:25.646 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:58:25.651 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:58:42.182 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 18:58:42.184 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-03-09 18:58:42.187 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:58:42.191 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:58:42.194 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 18:58:42.208 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 18:58:42.249 +00:00 [DBG] A data reader was disposed.
2023-03-09 18:58:42.251 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:58:42.255 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:59:07.099 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-09 18:59:07.625 +00:00 [DBG] Hosting starting
2023-03-09 18:59:08.097 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 32D04A39E92E2B369F4560A1D0100AD7B787BAF9)
2023-03-09 18:59:08.323 +00:00 [INF] Now listening on: https://localhost:7023
2023-03-09 18:59:08.388 +00:00 [INF] Now listening on: http://localhost:5023
2023-03-09 18:59:08.417 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-03-09 18:59:08.421 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-09 18:59:08.424 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-09 18:59:08.428 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-09 18:59:08.433 +00:00 [INF] Hosting environment: Development
2023-03-09 18:59:08.435 +00:00 [INF] Content root path: C:\netcorecourses\CityInfo\CityInfo.API\
2023-03-09 18:59:08.438 +00:00 [DBG] Hosting started
2023-03-09 18:59:08.680 +00:00 [DBG] Connection id "0HMP0Q1EE865Q" received FIN.
2023-03-09 18:59:08.680 +00:00 [DBG] Connection id "0HMP0Q1EE865R" received FIN.
2023-03-09 18:59:08.707 +00:00 [DBG] Connection id "0HMP0Q1EE865Q" accepted.
2023-03-09 18:59:08.707 +00:00 [DBG] Connection id "0HMP0Q1EE865R" accepted.
2023-03-09 18:59:08.712 +00:00 [DBG] Connection id "0HMP0Q1EE865Q" started.
2023-03-09 18:59:08.712 +00:00 [DBG] Connection id "0HMP0Q1EE865R" started.
2023-03-09 18:59:08.750 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 18:59:08.750 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 18:59:08.849 +00:00 [DBG] Connection id "0HMP0Q1EE865R" stopped.
2023-03-09 18:59:08.849 +00:00 [DBG] Connection id "0HMP0Q1EE865Q" stopped.
2023-03-09 18:59:08.862 +00:00 [DBG] Connection id "0HMP0Q1EE865Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 18:59:08.863 +00:00 [DBG] Connection id "0HMP0Q1EE865R" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 18:59:09.677 +00:00 [DBG] Connection id "0HMP0Q1EE865S" accepted.
2023-03-09 18:59:09.741 +00:00 [DBG] Connection id "0HMP0Q1EE865S" started.
2023-03-09 18:59:09.881 +00:00 [DBG] Connection 0HMP0Q1EE865S established using the following protocol: "Tls13"
2023-03-09 18:59:10.063 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/swagger/index.html - -
2023-03-09 18:59:10.199 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-09 18:59:10.634 +00:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-03-09 18:59:11.134 +00:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-03-09 18:59:11.177 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/_vs/browserLink - -
2023-03-09 18:59:11.173 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/_framework/aspnetcore-browser-refresh.js - -
2023-03-09 18:59:11.189 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/swagger/index.html - - - 200 - text/html;charset=utf-8 1140.6452ms
2023-03-09 18:59:11.228 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 61.7870ms
2023-03-09 18:59:11.322 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 148.4988ms
2023-03-09 18:59:12.201 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/swagger/v1/swagger.json - -
2023-03-09 18:59:12.665 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 463.5509ms
2023-03-09 18:59:16.374 +00:00 [DBG] Connection id "0HMP0Q1EE865T" accepted.
2023-03-09 18:59:16.376 +00:00 [DBG] Connection id "0HMP0Q1EE865T" received FIN.
2023-03-09 18:59:16.380 +00:00 [DBG] Connection id "0HMP0Q1EE865T" started.
2023-03-09 18:59:16.380 +00:00 [DBG] Connection id "0HMP0Q1EE865U" accepted.
2023-03-09 18:59:16.386 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 18:59:16.389 +00:00 [DBG] Connection id "0HMP0Q1EE865U" started.
2023-03-09 18:59:16.402 +00:00 [DBG] Connection id "0HMP0Q1EE865T" stopped.
2023-03-09 18:59:16.406 +00:00 [DBG] Connection id "0HMP0Q1EE865T" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 18:59:16.432 +00:00 [DBG] Connection 0HMP0Q1EE865U established using the following protocol: "Tls13"
2023-03-09 18:59:16.462 +00:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7023/api/cities/1/pointsofinterest/1 application/json 122
2023-03-09 18:59:16.468 +00:00 [DBG] PUT requests are not supported
2023-03-09 18:59:16.533 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-03-09 18:59:16.545 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-03-09 18:59:16.552 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2023-03-09 18:59:16.562 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2023-03-09 18:59:16.615 +00:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdateDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-03-09 18:59:16.621 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-09 18:59:16.625 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-09 18:59:16.632 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-09 18:59:16.639 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-09 18:59:16.646 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-09 18:59:16.652 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 18:59:16.943 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-09 18:59:17.429 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 18:59:17.439 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-09 18:59:17.447 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-09 18:59:17.451 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 18:59:17.453 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 18:59:17.457 +00:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-09 18:59:17.464 +00:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-09 18:59:17.469 +00:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-09 18:59:17.472 +00:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-03-09 18:59:17.479 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 18:59:17.482 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 18:59:17.485 +00:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-09 18:59:17.488 +00:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 18:59:17.495 +00:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2023-03-09 18:59:17.502 +00:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2023-03-09 18:59:17.515 +00:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-03-09 18:59:17.519 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-03-09 18:59:17.547 +00:00 [DBG] Connection id "0HMP0Q1EE865U", Request id "0HMP0Q1EE865U:00000002": started reading request body.
2023-03-09 18:59:17.550 +00:00 [DBG] Connection id "0HMP0Q1EE865U", Request id "0HMP0Q1EE865U:00000002": done reading request body.
2023-03-09 18:59:17.796 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2023-03-09 18:59:17.800 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2023-03-09 18:59:17.806 +00:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2023-03-09 18:59:17.820 +00:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2023-03-09 18:59:24.474 +00:00 [INF] Entity Framework Core 6.0.14 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None
2023-03-09 18:59:24.630 +00:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-03-09 18:59:25.253 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-09 18:59:25.412 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 18:59:25.507 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (88ms).
2023-03-09 18:59:25.543 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:59:26.174 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:59:26.218 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 18:59:26.416 +00:00 [INF] Executed DbCommand (220ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 18:59:26.484 +00:00 [DBG] A data reader was disposed.
2023-03-09 18:59:26.509 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:59:26.536 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:59:26.549 +00:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2023-03-09 18:59:26.630 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-09 18:59:26.662 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 18:59:26.664 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-03-09 18:59:26.667 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:59:26.676 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:59:26.679 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE ([p].[CityId] = @__cityId_0) AND ([p].[Id] = @__pointOfInterestId_1)
2023-03-09 18:59:26.694 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE ([p].[CityId] = @__cityId_0) AND ([p].[Id] = @__pointOfInterestId_1)
2023-03-09 18:59:26.752 +00:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 18:59:26.813 +00:00 [DBG] A data reader was disposed.
2023-03-09 18:59:26.815 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:59:26.818 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:59:26.851 +00:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-03-09 18:59:26.859 +00:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-03-09 18:59:26.894 +00:00 [DBG] The unchanged property 'PointOfInterest.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-03-09 18:59:26.932 +00:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 18:59:26.940 +00:00 [DBG] The unchanged property 'PointOfInterest.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-03-09 18:59:26.950 +00:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-03-09 18:59:26.998 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:59:27.000 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:59:27.010 +00:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-03-09 18:59:27.035 +00:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-03-09 18:59:27.164 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 18:59:27.166 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-03-09 18:59:27.177 +00:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [PointsOfInterest] SET [Description] = @p0, [Name] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2023-03-09 18:59:27.192 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [PointsOfInterest] SET [Description] = @p0, [Name] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2023-03-09 18:59:27.220 +00:00 [DBG] A data reader was disposed.
2023-03-09 18:59:27.241 +00:00 [DBG] Committing transaction.
2023-03-09 18:59:27.258 +00:00 [DBG] Committed transaction.
2023-03-09 18:59:27.274 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:59:27.277 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 18:59:27.293 +00:00 [DBG] Disposing transaction.
2023-03-09 18:59:27.316 +00:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 18:59:27.335 +00:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-03-09 18:59:27.365 +00:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-03-09 18:59:27.381 +00:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API) in 10718.8037ms
2023-03-09 18:59:27.390 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2023-03-09 18:59:27.396 +00:00 [DBG] Connection id "0HMP0Q1EE865U" completed keep alive response.
2023-03-09 18:59:27.407 +00:00 [DBG] 'CityInfoContext' disposed.
2023-03-09 18:59:27.417 +00:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7023/api/cities/1/pointsofinterest/1 application/json 122 - 204 - - 10955.3429ms
2023-03-09 19:10:58.176 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-09 19:10:58.465 +00:00 [DBG] Hosting starting
2023-03-09 19:10:59.041 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 32D04A39E92E2B369F4560A1D0100AD7B787BAF9)
2023-03-09 19:10:59.375 +00:00 [INF] Now listening on: https://localhost:7023
2023-03-09 19:10:59.496 +00:00 [INF] Now listening on: http://localhost:5023
2023-03-09 19:10:59.497 +00:00 [DBG] Connection id "0HMP0Q8294DHG" received FIN.
2023-03-09 19:10:59.497 +00:00 [DBG] Connection id "0HMP0Q8294DHF" received FIN.
2023-03-09 19:10:59.504 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-03-09 19:10:59.522 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-09 19:10:59.525 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-09 19:10:59.527 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-09 19:10:59.527 +00:00 [DBG] Connection id "0HMP0Q8294DHG" accepted.
2023-03-09 19:10:59.528 +00:00 [DBG] Connection id "0HMP0Q8294DHF" accepted.
2023-03-09 19:10:59.531 +00:00 [INF] Hosting environment: Development
2023-03-09 19:10:59.536 +00:00 [INF] Content root path: C:\netcorecourses\CityInfo\CityInfo.API\
2023-03-09 19:10:59.536 +00:00 [DBG] Connection id "0HMP0Q8294DHG" started.
2023-03-09 19:10:59.536 +00:00 [DBG] Connection id "0HMP0Q8294DHF" started.
2023-03-09 19:10:59.538 +00:00 [DBG] Hosting started
2023-03-09 19:10:59.601 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 19:10:59.601 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 19:10:59.862 +00:00 [DBG] Connection id "0HMP0Q8294DHF" stopped.
2023-03-09 19:10:59.873 +00:00 [DBG] Connection id "0HMP0Q8294DHG" stopped.
2023-03-09 19:10:59.901 +00:00 [DBG] Connection id "0HMP0Q8294DHG" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 19:10:59.891 +00:00 [DBG] Connection id "0HMP0Q8294DHF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 19:11:00.698 +00:00 [DBG] Connection id "0HMP0Q8294DHH" accepted.
2023-03-09 19:11:00.724 +00:00 [DBG] Connection id "0HMP0Q8294DHH" started.
2023-03-09 19:11:00.873 +00:00 [DBG] Connection 0HMP0Q8294DHH established using the following protocol: "Tls13"
2023-03-09 19:11:01.120 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/swagger/index.html - -
2023-03-09 19:11:01.236 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-09 19:11:01.558 +00:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-03-09 19:11:01.977 +00:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-03-09 19:11:01.991 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/swagger/index.html - - - 200 - text/html;charset=utf-8 880.9831ms
2023-03-09 19:11:02.007 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/_vs/browserLink - -
2023-03-09 19:11:02.007 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/_framework/aspnetcore-browser-refresh.js - -
2023-03-09 19:11:02.044 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 37.2503ms
2023-03-09 19:11:02.144 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 137.0762ms
2023-03-09 19:11:03.022 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/swagger/v1/swagger.json - -
2023-03-09 19:11:03.498 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 475.9425ms
2023-03-09 19:11:15.332 +00:00 [DBG] Connection id "0HMP0Q8294DHI" accepted.
2023-03-09 19:11:15.335 +00:00 [DBG] Connection id "0HMP0Q8294DHI" received FIN.
2023-03-09 19:11:15.335 +00:00 [DBG] Connection id "0HMP0Q8294DHI" started.
2023-03-09 19:11:15.336 +00:00 [DBG] Connection id "0HMP0Q8294DHJ" accepted.
2023-03-09 19:11:15.346 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 19:11:15.348 +00:00 [DBG] Connection id "0HMP0Q8294DHJ" started.
2023-03-09 19:11:15.362 +00:00 [DBG] Connection id "0HMP0Q8294DHI" stopped.
2023-03-09 19:11:15.369 +00:00 [DBG] Connection id "0HMP0Q8294DHI" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 19:11:15.382 +00:00 [DBG] Connection 0HMP0Q8294DHJ established using the following protocol: "Tls13"
2023-03-09 19:11:15.397 +00:00 [INF] Request starting HTTP/1.1 PATCH https://localhost:7023/api/cities/1/pointsofinterest/1 application/json 101
2023-03-09 19:11:15.405 +00:00 [DBG] PATCH requests are not supported
2023-03-09 19:11:15.461 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-03-09 19:11:15.473 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{PointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-03-09 19:11:15.478 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2023-03-09 19:11:15.489 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2023-03-09 19:11:15.554 +00:00 [INF] Route matched with {action = "PartiallyUpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] PartiallyUpdatePointOfInterest(Int32, Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-03-09 19:11:15.561 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-09 19:11:15.564 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-09 19:11:15.569 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-09 19:11:15.576 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-09 19:11:15.579 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-09 19:11:15.584 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 19:11:15.904 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-09 19:11:16.279 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 19:11:16.293 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-09 19:11:16.301 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-09 19:11:16.306 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 19:11:16.308 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 19:11:16.311 +00:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-09 19:11:16.320 +00:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-09 19:11:16.326 +00:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-09 19:11:16.331 +00:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-03-09 19:11:16.337 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 19:11:16.340 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 19:11:16.345 +00:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-09 19:11:16.352 +00:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 19:11:16.356 +00:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' ...
2023-03-09 19:11:16.369 +00:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' using the name '' in request data ...
2023-03-09 19:11:16.379 +00:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-03-09 19:11:16.392 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-03-09 19:11:16.415 +00:00 [DBG] Connection id "0HMP0Q8294DHJ", Request id "0HMP0Q8294DHJ:00000002": started reading request body.
2023-03-09 19:11:16.420 +00:00 [DBG] Connection id "0HMP0Q8294DHJ", Request id "0HMP0Q8294DHJ:00000002": done reading request body.
2023-03-09 19:11:16.760 +00:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2023-03-09 19:11:16.764 +00:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2023-03-09 19:11:16.771 +00:00 [DBG] Attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' ...
2023-03-09 19:11:16.790 +00:00 [DBG] Done attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2023-03-09 19:11:18.950 +00:00 [INF] Entity Framework Core 6.0.14 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None
2023-03-09 19:11:19.099 +00:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-03-09 19:11:19.704 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-09 19:11:19.869 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 19:11:19.953 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (76ms).
2023-03-09 19:11:20.001 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:11:20.596 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:11:20.650 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 19:11:20.833 +00:00 [INF] Executed DbCommand (215ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 19:11:20.921 +00:00 [DBG] A data reader was disposed.
2023-03-09 19:11:20.938 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:11:20.960 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:11:20.971 +00:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2023-03-09 19:11:21.050 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-09 19:11:21.090 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 19:11:21.092 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-03-09 19:11:21.099 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:11:21.107 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:11:21.109 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE ([p].[CityId] = @__cityId_0) AND ([p].[Id] = @__pointOfInterestId_1)
2023-03-09 19:11:21.125 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE ([p].[CityId] = @__cityId_0) AND ([p].[Id] = @__pointOfInterestId_1)
2023-03-09 19:11:21.162 +00:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 19:11:21.208 +00:00 [DBG] A data reader was disposed.
2023-03-09 19:11:21.210 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:11:21.213 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:11:21.261 +00:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-03-09 19:11:21.268 +00:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-03-09 19:11:21.310 +00:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-03-09 19:11:21.333 +00:00 [DBG] SaveChanges completed for 'CityInfoContext' with 0 entities written to the database.
2023-03-09 19:11:21.354 +00:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-03-09 19:11:21.368 +00:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API) in 5774.4355ms
2023-03-09 19:11:21.374 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2023-03-09 19:11:21.382 +00:00 [DBG] Connection id "0HMP0Q8294DHJ" completed keep alive response.
2023-03-09 19:11:21.389 +00:00 [DBG] 'CityInfoContext' disposed.
2023-03-09 19:11:21.400 +00:00 [INF] Request finished HTTP/1.1 PATCH https://localhost:7023/api/cities/1/pointsofinterest/1 application/json 101 - 204 - - 6003.1339ms
2023-03-09 19:11:44.920 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7023/api/cities/1/pointsofinterest/1 - -
2023-03-09 19:11:44.924 +00:00 [DBG] The request path  does not match the path filter
2023-03-09 19:11:44.928 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-03-09 19:11:44.932 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-03-09 19:11:44.938 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)'
2023-03-09 19:11:44.944 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)'
2023-03-09 19:11:44.959 +00:00 [INF] Route matched with {action = "PointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] PointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-03-09 19:11:44.970 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-09 19:11:44.974 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-09 19:11:44.980 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-09 19:11:44.986 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-09 19:11:44.991 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-09 19:11:44.999 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 19:11:45.004 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 19:11:45.019 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-09 19:11:45.025 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-09 19:11:45.029 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 19:11:45.032 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 19:11:45.035 +00:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-09 19:11:45.041 +00:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-09 19:11:45.044 +00:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-09 19:11:45.048 +00:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-03-09 19:11:45.052 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 19:11:45.060 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 19:11:45.063 +00:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-09 19:11:45.067 +00:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 19:11:45.110 +00:00 [INF] Entity Framework Core 6.0.14 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None
2023-03-09 19:11:45.130 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 19:11:45.134 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-03-09 19:11:45.138 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:11:45.142 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:11:45.145 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 19:11:45.156 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 19:11:45.168 +00:00 [DBG] A data reader was disposed.
2023-03-09 19:11:45.171 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:11:45.175 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:11:45.179 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 19:11:45.182 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-03-09 19:11:45.185 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:11:45.189 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:11:45.193 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE ([p].[CityId] = @__cityId_0) AND ([p].[Id] = @__pointOfInterestId_1)
2023-03-09 19:11:45.203 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE ([p].[CityId] = @__cityId_0) AND ([p].[Id] = @__pointOfInterestId_1)
2023-03-09 19:11:45.214 +00:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 19:11:45.218 +00:00 [DBG] A data reader was disposed.
2023-03-09 19:11:45.220 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:11:45.223 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:11:45.234 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-09 19:11:45.248 +00:00 [DBG] No information found on request to perform content negotiation.
2023-03-09 19:11:45.250 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-09 19:11:45.253 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-09 19:11:45.261 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-09 19:11:45.265 +00:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2023-03-09 19:11:45.379 +00:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API) in 380.0744ms
2023-03-09 19:11:45.383 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)'
2023-03-09 19:11:45.386 +00:00 [DBG] Connection id "0HMP0Q8294DHJ" completed keep alive response.
2023-03-09 19:11:45.390 +00:00 [DBG] 'CityInfoContext' disposed.
2023-03-09 19:11:45.393 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7023/api/cities/1/pointsofinterest/1 - - - 200 116 application/json;+charset=utf-8 472.9630ms
2023-03-09 19:12:26.282 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-09 19:12:26.623 +00:00 [DBG] Hosting starting
2023-03-09 19:12:26.909 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 32D04A39E92E2B369F4560A1D0100AD7B787BAF9)
2023-03-09 19:12:27.056 +00:00 [INF] Now listening on: https://localhost:7023
2023-03-09 19:12:27.058 +00:00 [INF] Now listening on: http://localhost:5023
2023-03-09 19:12:27.060 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-03-09 19:12:27.062 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-09 19:12:27.065 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-09 19:12:27.068 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-09 19:12:27.070 +00:00 [INF] Hosting environment: Development
2023-03-09 19:12:27.072 +00:00 [INF] Content root path: C:\netcorecourses\CityInfo\CityInfo.API\
2023-03-09 19:12:27.074 +00:00 [DBG] Hosting started
2023-03-09 19:12:27.227 +00:00 [DBG] Connection id "0HMP0Q8SDNIR3" accepted.
2023-03-09 19:12:27.235 +00:00 [DBG] Connection id "0HMP0Q8SDNIR3" started.
2023-03-09 19:12:27.236 +00:00 [DBG] Connection id "0HMP0Q8SDNIR3" received FIN.
2023-03-09 19:12:27.279 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 19:12:27.395 +00:00 [DBG] Connection id "0HMP0Q8SDNIR3" stopped.
2023-03-09 19:12:27.402 +00:00 [DBG] Connection id "0HMP0Q8SDNIR3" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 19:12:28.040 +00:00 [DBG] Connection id "0HMP0Q8SDNIR4" accepted.
2023-03-09 19:12:28.115 +00:00 [DBG] Connection id "0HMP0Q8SDNIR4" started.
2023-03-09 19:12:28.313 +00:00 [DBG] Connection 0HMP0Q8SDNIR4 established using the following protocol: "Tls13"
2023-03-09 19:12:28.488 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/swagger/index.html - -
2023-03-09 19:12:28.580 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-09 19:12:28.861 +00:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-03-09 19:12:29.193 +00:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-03-09 19:12:29.217 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/_vs/browserLink - -
2023-03-09 19:12:29.218 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/_framework/aspnetcore-browser-refresh.js - -
2023-03-09 19:12:29.260 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/swagger/index.html - - - 200 - text/html;charset=utf-8 783.4801ms
2023-03-09 19:12:29.260 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 41.5674ms
2023-03-09 19:12:29.351 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 133.6965ms
2023-03-09 19:12:29.861 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/swagger/v1/swagger.json - -
2023-03-09 19:12:30.301 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 439.8355ms
2023-03-09 19:12:43.712 +00:00 [DBG] Connection id "0HMP0Q8SDNIR5" accepted.
2023-03-09 19:12:43.713 +00:00 [DBG] Connection id "0HMP0Q8SDNIR5" received FIN.
2023-03-09 19:12:43.715 +00:00 [DBG] Connection id "0HMP0Q8SDNIR5" started.
2023-03-09 19:12:43.715 +00:00 [DBG] Connection id "0HMP0Q8SDNIR6" accepted.
2023-03-09 19:12:43.723 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 19:12:43.725 +00:00 [DBG] Connection id "0HMP0Q8SDNIR6" started.
2023-03-09 19:12:43.740 +00:00 [DBG] Connection id "0HMP0Q8SDNIR5" stopped.
2023-03-09 19:12:43.747 +00:00 [DBG] Connection id "0HMP0Q8SDNIR5" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 19:12:43.763 +00:00 [DBG] Connection 0HMP0Q8SDNIR6 established using the following protocol: "Tls13"
2023-03-09 19:12:43.786 +00:00 [INF] Request starting HTTP/1.1 PATCH https://localhost:7023/api/cities/1/pointsofinterest/1 application/json 216
2023-03-09 19:12:43.794 +00:00 [DBG] PATCH requests are not supported
2023-03-09 19:12:43.871 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-03-09 19:12:43.878 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{PointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-03-09 19:12:43.888 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2023-03-09 19:12:43.894 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2023-03-09 19:12:43.947 +00:00 [INF] Route matched with {action = "PartiallyUpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] PartiallyUpdatePointOfInterest(Int32, Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-03-09 19:12:43.955 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-09 19:12:43.960 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-09 19:12:43.964 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-09 19:12:43.971 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-09 19:12:43.977 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-09 19:12:43.982 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 19:12:44.236 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-09 19:12:44.627 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 19:12:44.639 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-09 19:12:44.645 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-09 19:12:44.650 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 19:12:44.653 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 19:12:44.658 +00:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-09 19:12:44.664 +00:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-09 19:12:44.672 +00:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-09 19:12:44.674 +00:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-03-09 19:12:44.679 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 19:12:44.683 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 19:12:44.690 +00:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-09 19:12:44.695 +00:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 19:12:44.699 +00:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' ...
2023-03-09 19:12:44.711 +00:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' using the name '' in request data ...
2023-03-09 19:12:44.721 +00:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-03-09 19:12:44.727 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-03-09 19:12:44.747 +00:00 [DBG] Connection id "0HMP0Q8SDNIR6", Request id "0HMP0Q8SDNIR6:00000002": started reading request body.
2023-03-09 19:12:44.752 +00:00 [DBG] Connection id "0HMP0Q8SDNIR6", Request id "0HMP0Q8SDNIR6:00000002": done reading request body.
2023-03-09 19:12:45.074 +00:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2023-03-09 19:12:45.079 +00:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2023-03-09 19:12:45.082 +00:00 [DBG] Attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' ...
2023-03-09 19:12:45.094 +00:00 [DBG] Done attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2023-03-09 19:12:47.087 +00:00 [INF] Entity Framework Core 6.0.14 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None
2023-03-09 19:12:47.243 +00:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-03-09 19:12:47.866 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-09 19:12:48.036 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 19:12:48.112 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (71ms).
2023-03-09 19:12:48.147 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:12:48.753 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:12:48.790 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 19:12:48.998 +00:00 [INF] Executed DbCommand (224ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 19:12:49.076 +00:00 [DBG] A data reader was disposed.
2023-03-09 19:12:49.090 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:12:49.113 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:12:49.122 +00:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2023-03-09 19:12:49.208 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-09 19:12:49.238 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 19:12:49.241 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-03-09 19:12:49.244 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:12:49.252 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:12:49.255 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE ([p].[CityId] = @__cityId_0) AND ([p].[Id] = @__pointOfInterestId_1)
2023-03-09 19:12:49.275 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE ([p].[CityId] = @__cityId_0) AND ([p].[Id] = @__pointOfInterestId_1)
2023-03-09 19:12:49.321 +00:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 19:12:49.374 +00:00 [DBG] A data reader was disposed.
2023-03-09 19:12:49.376 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:12:49.379 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:12:49.452 +00:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-03-09 19:12:49.460 +00:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-03-09 19:12:49.525 +00:00 [DBG] The unchanged property 'PointOfInterest.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-03-09 19:12:49.552 +00:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 19:12:49.559 +00:00 [DBG] The unchanged property 'PointOfInterest.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-03-09 19:12:49.571 +00:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-03-09 19:12:49.632 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:12:49.635 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:12:49.643 +00:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-03-09 19:12:49.673 +00:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-03-09 19:12:49.801 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 19:12:49.804 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-03-09 19:12:49.809 +00:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [PointsOfInterest] SET [Description] = @p0, [Name] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2023-03-09 19:12:49.820 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [PointsOfInterest] SET [Description] = @p0, [Name] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2023-03-09 19:12:49.847 +00:00 [DBG] A data reader was disposed.
2023-03-09 19:12:49.866 +00:00 [DBG] Committing transaction.
2023-03-09 19:12:49.880 +00:00 [DBG] Committed transaction.
2023-03-09 19:12:49.893 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:12:49.896 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:12:49.910 +00:00 [DBG] Disposing transaction.
2023-03-09 19:12:49.935 +00:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 19:12:49.955 +00:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-03-09 19:12:49.978 +00:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-03-09 19:12:49.997 +00:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API) in 6006.5613ms
2023-03-09 19:12:50.006 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2023-03-09 19:12:50.011 +00:00 [DBG] Connection id "0HMP0Q8SDNIR6" completed keep alive response.
2023-03-09 19:12:50.024 +00:00 [DBG] 'CityInfoContext' disposed.
2023-03-09 19:12:50.035 +00:00 [INF] Request finished HTTP/1.1 PATCH https://localhost:7023/api/cities/1/pointsofinterest/1 application/json 216 - 204 - - 6248.3464ms
2023-03-09 19:13:01.243 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7023/api/cities/1/pointsofinterest/1 - -
2023-03-09 19:13:01.247 +00:00 [DBG] The request path  does not match the path filter
2023-03-09 19:13:01.253 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-03-09 19:13:01.257 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-03-09 19:13:01.275 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)'
2023-03-09 19:13:01.281 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)'
2023-03-09 19:13:01.290 +00:00 [INF] Route matched with {action = "PointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] PointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-03-09 19:13:01.301 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-09 19:13:01.308 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-09 19:13:01.315 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-09 19:13:01.325 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-09 19:13:01.329 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-09 19:13:01.338 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 19:13:01.342 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 19:13:01.347 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-09 19:13:01.352 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-09 19:13:01.355 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 19:13:01.358 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 19:13:01.361 +00:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-09 19:13:01.367 +00:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-09 19:13:01.370 +00:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-09 19:13:01.373 +00:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-03-09 19:13:01.377 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 19:13:01.383 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 19:13:01.387 +00:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-09 19:13:01.391 +00:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 19:13:01.401 +00:00 [INF] Entity Framework Core 6.0.14 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None
2023-03-09 19:13:01.421 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 19:13:01.424 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-03-09 19:13:01.428 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:13:01.433 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:13:01.437 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 19:13:01.450 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-09 19:13:01.467 +00:00 [DBG] A data reader was disposed.
2023-03-09 19:13:01.470 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:13:01.476 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:13:01.483 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 19:13:01.486 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-03-09 19:13:01.492 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:13:01.497 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:13:01.501 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE ([p].[CityId] = @__cityId_0) AND ([p].[Id] = @__pointOfInterestId_1)
2023-03-09 19:13:01.518 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE ([p].[CityId] = @__cityId_0) AND ([p].[Id] = @__pointOfInterestId_1)
2023-03-09 19:13:01.526 +00:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 19:13:01.532 +00:00 [DBG] A data reader was disposed.
2023-03-09 19:13:01.534 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:13:01.539 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:13:01.549 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-09 19:13:01.561 +00:00 [DBG] No information found on request to perform content negotiation.
2023-03-09 19:13:01.563 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-09 19:13:01.568 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-09 19:13:01.572 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-09 19:13:01.575 +00:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2023-03-09 19:13:01.700 +00:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API) in 362.0026ms
2023-03-09 19:13:01.704 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PointOfInterest (CityInfo.API)'
2023-03-09 19:13:01.707 +00:00 [DBG] Connection id "0HMP0Q8SDNIR6" completed keep alive response.
2023-03-09 19:13:01.713 +00:00 [DBG] 'CityInfoContext' disposed.
2023-03-09 19:13:01.717 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7023/api/cities/1/pointsofinterest/1 - - - 200 88 application/json;+charset=utf-8 474.1251ms
2023-03-09 19:23:51.224 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-09 19:23:51.622 +00:00 [DBG] Hosting starting
2023-03-09 19:23:52.011 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 32D04A39E92E2B369F4560A1D0100AD7B787BAF9)
2023-03-09 19:23:52.217 +00:00 [INF] Now listening on: https://localhost:7023
2023-03-09 19:23:52.237 +00:00 [INF] Now listening on: http://localhost:5023
2023-03-09 19:23:52.241 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-03-09 19:23:52.244 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-09 19:23:52.247 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-09 19:23:52.251 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-09 19:23:52.254 +00:00 [INF] Hosting environment: Development
2023-03-09 19:23:52.260 +00:00 [INF] Content root path: C:\netcorecourses\CityInfo\CityInfo.API\
2023-03-09 19:23:52.265 +00:00 [DBG] Hosting started
2023-03-09 19:23:52.386 +00:00 [DBG] Connection id "0HMP0QF8JSM2L" accepted.
2023-03-09 19:23:52.387 +00:00 [DBG] Connection id "0HMP0QF8JSM2K" accepted.
2023-03-09 19:23:52.405 +00:00 [DBG] Connection id "0HMP0QF8JSM2K" received FIN.
2023-03-09 19:23:52.405 +00:00 [DBG] Connection id "0HMP0QF8JSM2L" received FIN.
2023-03-09 19:23:52.410 +00:00 [DBG] Connection id "0HMP0QF8JSM2L" started.
2023-03-09 19:23:52.416 +00:00 [DBG] Connection id "0HMP0QF8JSM2K" started.
2023-03-09 19:23:52.484 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 19:23:52.484 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 19:23:52.670 +00:00 [DBG] Connection id "0HMP0QF8JSM2L" stopped.
2023-03-09 19:23:52.670 +00:00 [DBG] Connection id "0HMP0QF8JSM2K" stopped.
2023-03-09 19:23:52.683 +00:00 [DBG] Connection id "0HMP0QF8JSM2K" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 19:23:52.683 +00:00 [DBG] Connection id "0HMP0QF8JSM2L" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 19:23:53.328 +00:00 [DBG] Connection id "0HMP0QF8JSM2M" accepted.
2023-03-09 19:23:53.331 +00:00 [DBG] Connection id "0HMP0QF8JSM2M" started.
2023-03-09 19:23:53.477 +00:00 [DBG] Connection 0HMP0QF8JSM2M established using the following protocol: "Tls13"
2023-03-09 19:23:53.622 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/swagger/index.html - -
2023-03-09 19:23:53.719 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-09 19:23:54.037 +00:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-03-09 19:23:54.651 +00:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-03-09 19:23:54.665 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/swagger/index.html - - - 200 - text/html;charset=utf-8 1056.8162ms
2023-03-09 19:23:54.682 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/_framework/aspnetcore-browser-refresh.js - -
2023-03-09 19:23:54.682 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/_vs/browserLink - -
2023-03-09 19:23:54.719 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 36.3677ms
2023-03-09 19:23:54.908 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 225.6542ms
2023-03-09 19:23:55.651 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7023/swagger/v1/swagger.json - -
2023-03-09 19:23:56.146 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7023/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 495.0859ms
2023-03-09 19:24:31.388 +00:00 [DBG] Connection id "0HMP0QF8JSM2N" accepted.
2023-03-09 19:24:31.393 +00:00 [DBG] Connection id "0HMP0QF8JSM2N" received FIN.
2023-03-09 19:24:31.394 +00:00 [DBG] Connection id "0HMP0QF8JSM2N" started.
2023-03-09 19:24:31.395 +00:00 [DBG] Connection id "0HMP0QF8JSM2O" accepted.
2023-03-09 19:24:31.412 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-09 19:24:31.415 +00:00 [DBG] Connection id "0HMP0QF8JSM2O" started.
2023-03-09 19:24:31.427 +00:00 [DBG] Connection id "0HMP0QF8JSM2N" stopped.
2023-03-09 19:24:31.433 +00:00 [DBG] Connection id "0HMP0QF8JSM2N" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-09 19:24:31.455 +00:00 [DBG] Connection 0HMP0QF8JSM2O established using the following protocol: "Tls13"
2023-03-09 19:24:31.473 +00:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7023/api/cities/3/pointsofinterest/8 - -
2023-03-09 19:24:31.477 +00:00 [DBG] DELETE requests are not supported
2023-03-09 19:24:31.520 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest/8'
2023-03-09 19:24:31.529 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/3/pointsofinterest/8'
2023-03-09 19:24:31.537 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2023-03-09 19:24:31.550 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2023-03-09 19:24:31.602 +00:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-03-09 19:24:31.609 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-09 19:24:31.611 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-09 19:24:31.616 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-09 19:24:31.623 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-09 19:24:31.626 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-09 19:24:31.631 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 19:24:31.906 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-09 19:24:32.295 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-09 19:24:32.304 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-09 19:24:32.310 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-09 19:24:32.315 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 19:24:32.318 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-09 19:24:32.323 +00:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-09 19:24:32.330 +00:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-09 19:24:32.336 +00:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-09 19:24:32.340 +00:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-03-09 19:24:32.345 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 19:24:32.349 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 19:24:32.354 +00:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-09 19:24:32.357 +00:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-09 19:24:34.133 +00:00 [INF] Entity Framework Core 6.0.14 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None
2023-03-09 19:24:34.337 +00:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-03-09 19:24:34.975 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-09 19:24:35.149 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 19:24:35.230 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (76ms).
2023-03-09 19:24:35.272 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:24:35.861 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:24:35.901 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2023-03-09 19:24:36.108 +00:00 [INF] Executed DbCommand (223ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2023-03-09 19:24:36.199 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 19:24:36.263 +00:00 [DBG] A data reader was disposed.
2023-03-09 19:24:36.276 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:24:36.301 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:24:36.310 +00:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2023-03-09 19:24:36.320 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-09 19:24:36.335 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 19:24:36.337 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-03-09 19:24:36.340 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:24:36.351 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:24:36.354 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE ([p].[CityId] = @__cityId_0) AND ([p].[Id] = @__pointOfInterestId_1)
2023-03-09 19:24:36.375 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE ([p].[CityId] = @__cityId_0) AND ([p].[Id] = @__pointOfInterestId_1)
2023-03-09 19:24:36.387 +00:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 19:24:36.441 +00:00 [DBG] A data reader was disposed.
2023-03-09 19:24:36.443 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:24:36.448 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:24:36.483 +00:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 19:24:36.508 +00:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-03-09 19:24:36.517 +00:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-03-09 19:24:36.553 +00:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-03-09 19:24:36.608 +00:00 [DBG] Opening connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:24:36.610 +00:00 [DBG] Opened connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:24:36.619 +00:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-03-09 19:24:36.643 +00:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-03-09 19:24:36.739 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-09 19:24:36.741 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-03-09 19:24:36.748 +00:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [PointsOfInterest]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2023-03-09 19:24:36.757 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [PointsOfInterest]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2023-03-09 19:24:36.801 +00:00 [DBG] A data reader was disposed.
2023-03-09 19:24:36.822 +00:00 [DBG] Committing transaction.
2023-03-09 19:24:36.833 +00:00 [DBG] Committed transaction.
2023-03-09 19:24:36.843 +00:00 [DBG] Closing connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:24:36.846 +00:00 [DBG] Closed connection to database 'CityInfo' on server '(localdb)\mssqllocaldb'.
2023-03-09 19:24:36.858 +00:00 [DBG] Disposing transaction.
2023-03-09 19:24:36.876 +00:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-09 19:24:36.889 +00:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-03-09 19:24:36.910 +00:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-03-09 19:24:36.923 +00:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API) in 5285.4826ms
2023-03-09 19:24:36.931 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2023-03-09 19:24:36.936 +00:00 [DBG] Connection id "0HMP0QF8JSM2O" completed keep alive response.
2023-03-09 19:24:36.945 +00:00 [DBG] 'CityInfoContext' disposed.
2023-03-09 19:24:36.954 +00:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7023/api/cities/3/pointsofinterest/8 - - - 204 - - 5480.4434ms
